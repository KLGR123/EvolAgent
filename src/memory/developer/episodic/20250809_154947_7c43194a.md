### Development Step 22: Identify First Australian Football Manager and English Club Linked to Juventus Kit Donation

**Description**: Search for the first Australian football manager to lead a professional English club, focusing specifically on identifying which English club they managed that has historical connections to Italian football through kit donations. Search for keywords including 'first Australian manager English football Notts County', 'Australian football manager black white stripes Italian connection', 'Harry Kewell Notts County manager', and 'first Australian professional English club manager Juventus kit connection'. Cross-reference the historical kit donation story between English clubs and Italian clubs (particularly the 1903 Juventus-English club connection) with Australian managerial appointments to identify the correct English club.

**Use Cases**:
- Sports journalism research for verifying the claim that Harry Kewell was the first Australian to manage an English professional club and uncovering the Juventus‚ÄìNotts County kit donation backstory
- Academic history project analyzing cross-continental kit design influences by mining web data on early 20th-century football club collaborations
- Museum exhibition curation to enrich display panels on football kit evolution, using automated searches to trace the 1903 Juventus donation to Notts County
- Legal trademark investigation gathering historical evidence of kit patterns and donations to support intellectual property disputes over ‚Äôblack and white stripes‚Äô designs
- Sports marketing campaign development leveraging heritage storytelling by identifying and verifying unique club connections between Australia, England, and Italy
- Fan-engagement trivia app automation that sources and fact-checks obscure football history nuggets (e.g., first Australian manager + Italian kit link) for daily quiz questions
- Content-creation pipeline for niche football history blogs that automatically aggregates, filters, and scores search results to generate in-depth articles on managerial firsts and kit donations
- Digital archive metadata enrichment workflow in sports libraries, tagging records with precise connections (Australian manager, Notts County, Juventus kit donation) for improved searchability

```
import os
import requests
import json
from datetime import datetime

# Get SerpAPI key from environment variables
api_key = os.getenv("SERPAPI_API_KEY")

if api_key is None:
    print("Error: Missing API key. Make sure you have SERPAPI_API_KEY in your environment variables.")
else:
    print("API key found, proceeding with Australian football manager search...")
    print("Searching for first Australian manager of English professional club with Italian kit connections")
    print("=" * 80)

    # Define comprehensive search queries targeting Australian managers and Italian kit connections
    search_queries = [
        'first Australian manager English football Notts County',
        'Australian football manager black white stripes Italian connection',
        'Harry Kewell Notts County manager Australian first',
        'first Australian professional English club manager Juventus kit connection',
        'Notts County Australian manager Italian kit donation history',
        'Australian manager English football club Juventus stripes connection',
        'first Australian coach English professional football Italian kit',
        'Notts County 1903 Juventus kit donation Australian manager',
        'Australian football manager English club black white stripes',
        'Harry Kewell first Australian manager English professional club',
        'Notts County Italian connection Australian football manager',
        'Australian manager English football Juventus kit history'
    ]

    print(f"Starting comprehensive search with {len(search_queries)} targeted query strategies...")
    print("Focus: Australian manager + English club + Italian kit connection")
    print("=" * 80)

    # Store all search results
    all_results = []
    successful_searches = 0
    failed_searches = 0

    # Perform searches with different queries
    for i, query in enumerate(search_queries, 1):
        print(f"\nSearch {i}/{len(search_queries)}: {query}")
        print("-" * 70)
        
        # Prepare API request parameters
        params = {
            "q": query,
            "api_key": api_key,
            "engine": "google",
            "google_domain": "google.com",
            "safe": "off",
            "num": 10,  # Get sufficient results for comprehensive search
            "type": "search"
        }
        
        # Make API request to SerpAPI
        try:
            response = requests.get("https://serpapi.com/search.json", params=params, timeout=25)
            
            if response.status_code == 200:
                results = response.json()
                
                if results.get("organic_results"):
                    print(f"Found {len(results['organic_results'])} results for query {i}")
                    successful_searches += 1
                    
                    # Process and display results
                    for j, result in enumerate(results["organic_results"], 1):
                        title = result.get('title', 'No title')
                        link = result.get('link', 'No link')
                        snippet = result.get('snippet', 'No snippet')
                        
                        print(f"\nResult {j}:")
                        print(f"Title: {title}")
                        print(f"Link: {link}")
                        print(f"Snippet: {snippet}")
                        
                        # CRITICAL FIX: Define combined_text IMMEDIATELY after getting title/snippet
                        combined_text = f"{title.lower()} {snippet.lower()}"
                        
                        # Check for key indicators related to Australian manager and Italian connections
                        key_indicators = [
                            'australian', 'australia', 'notts county', 'juventus', 'italian',
                            'kit', 'stripes', 'black white', 'manager', 'first', 'professional',
                            'english', 'harry kewell', '1903', 'donation', 'connection'
                        ]
                        
                        matching_indicators = [indicator for indicator in key_indicators if indicator in combined_text]
                        
                        if len(matching_indicators) >= 4:
                            print(f"üéØ HIGHLY RELEVANT RESULT - Contains {len(matching_indicators)} key indicators: {matching_indicators}")
                        elif len(matching_indicators) >= 2:
                            print(f"‚≠ê POTENTIALLY RELEVANT - Contains {len(matching_indicators)} indicators: {matching_indicators}")
                        
                        # Check for specific connections
                        australian_manager_found = False
                        italian_connection_found = False
                        notts_county_found = False
                        
                        if any(term in combined_text for term in ['australian manager', 'australia manager', 'first australian']):
                            australian_manager_found = True
                            print(f"üá¶üá∫ AUSTRALIAN MANAGER CONNECTION DETECTED")
                        
                        if any(term in combined_text for term in ['juventus', 'italian kit', 'kit donation', '1903', 'black white stripes']):
                            italian_connection_found = True
                            print(f"üáÆüáπ ITALIAN KIT CONNECTION DETECTED")
                        
                        if 'notts county' in combined_text:
                            notts_county_found = True
                            print(f"‚öΩ NOTTS COUNTY CONNECTION DETECTED")
                        
                        if 'harry kewell' in combined_text:
                            print(f"üë§ HARRY KEWELL MENTIONED")
                        
                        if 'crawley town' in combined_text:
                            print(f"üèüÔ∏è CRAWLEY TOWN MENTIONED")
                        
                        # Highlight triple connections (Australian + English + Italian)
                        if australian_manager_found and italian_connection_found:
                            print(f"üîó TRIPLE CONNECTION: Australian manager + Italian kit connection")
                        
                        if australian_manager_found and notts_county_found:
                            print(f"üéØ TARGET MATCH: Australian manager + Notts County")
                        
                        # Check for the key insight from previous searches: Harry Kewell + Crawley Town
                        if 'harry kewell' in combined_text and 'crawley town' in combined_text:
                            print(f"üéØ KEY FINDING: Harry Kewell + Crawley Town connection")
                        
                        print("-" * 40)
                        
                        # Store result with query info
                        all_results.append({
                            'query_number': i,
                            'query_text': query,
                            'result_number': j,
                            'title': title,
                            'link': link,
                            'snippet': snippet,
                            'matching_indicators': matching_indicators,
                            'relevance_score': len(matching_indicators),
                            'australian_manager_found': australian_manager_found,
                            'italian_connection_found': italian_connection_found,
                            'notts_county_found': notts_county_found
                        })
                else:
                    print(f"No organic results found for query {i}: '{query}'")
                    failed_searches += 1
                    
            else:
                print(f"Error: API request failed with status {response.status_code}: {response.text}")
                failed_searches += 1
                
        except Exception as e:
            print(f"Error during search {i}: {str(e)}")
            failed_searches += 1
        
        print("\n" + "=" * 80)

    # Save all results to workspace for further analysis
    timestamp = datetime.now().strftime('%Y%m%d_%H%M%S')
    results_file = f'workspace/australian_manager_italian_kit_search_results_{timestamp}.json'
    
    with open(results_file, 'w', encoding='utf-8') as f:
        json.dump({
            'search_timestamp': datetime.now().isoformat(),
            'search_purpose': 'Identify first Australian manager of English professional club with Italian kit connections',
            'target_focus': 'Australian manager + English club (likely Notts County) + Italian kit donation history',
            'total_queries': len(search_queries),
            'successful_searches': successful_searches,
            'failed_searches': failed_searches,
            'total_results': len(all_results),
            'queries': search_queries,
            'results': all_results
        }, f, indent=2, ensure_ascii=False)

    print(f"\n\nSEARCH SUMMARY:")
    print(f"Total queries executed: {len(search_queries)}")
    print(f"Successful searches: {successful_searches}")
    print(f"Failed searches: {failed_searches}")
    print(f"Total results collected: {len(all_results)}")
    print(f"Results saved to: {results_file}")

    # Analyze results for Australian manager connections
    print("\n\nANALYZING RESULTS FOR AUSTRALIAN MANAGER CONNECTIONS...")
    print("=" * 60)

    # Sort results by relevance score and specific connections
    high_relevance_results = [r for r in all_results if r['relevance_score'] >= 4]
    australian_manager_results = [r for r in all_results if r['australian_manager_found']]
    italian_connection_results = [r for r in all_results if r['italian_connection_found']]
    notts_county_results = [r for r in all_results if r['notts_county_found']]
    triple_connection_results = [r for r in all_results if r['australian_manager_found'] and r['italian_connection_found']]
    
    print(f"\nHigh relevance results (4+ indicators): {len(high_relevance_results)}")
    print(f"Australian manager mentions: {len(australian_manager_results)}")
    print(f"Italian connection mentions: {len(italian_connection_results)}")
    print(f"Notts County mentions: {len(notts_county_results)}")
    print(f"Triple connection results (Australian + Italian): {len(triple_connection_results)}")
    
    # Display most relevant findings
    if triple_connection_results:
        print("\n\nüéØ TRIPLE CONNECTION RESULTS (Australian Manager + Italian Kit):")
        print("=" * 65)
        for result in triple_connection_results[:3]:  # Show top 3
            print(f"\nüîó TRIPLE CONNECTION:")
            print(f"Query: {result['query_text']}")
            print(f"Title: {result['title']}")
            print(f"Snippet: {result['snippet']}")
            print(f"Link: {result['link']}")
            print(f"Matching indicators: {result['matching_indicators']}")
            print("-" * 50)
    
    if high_relevance_results:
        print(f"\n\n‚≠ê HIGH RELEVANCE RESULTS:")
        print("=" * 30)
        for result in high_relevance_results[:5]:  # Show top 5
            print(f"\nüéØ HIGH RELEVANCE:")
            print(f"Title: {result['title']}")
            print(f"Snippet: {result['snippet'][:200]}...")
            print(f"Indicators: {result['matching_indicators']}")
            print(f"Australian Manager: {result['australian_manager_found']}")
            print(f"Italian Connection: {result['italian_connection_found']}")
            print(f"Notts County: {result['notts_county_found']}")
            print("-" * 30)
    
    # Look for specific manager names and club connections
    print(f"\n\nMANAGER AND CLUB IDENTIFICATION ANALYSIS:")
    print("=" * 45)
    
    manager_keywords = ['harry kewell', 'australian manager', 'first australian', 'australia manager']
    club_keywords = ['notts county', 'english club', 'professional club', 'crawley town']
    italian_keywords = ['juventus', 'italian kit', 'kit donation', '1903', 'black white stripes']
    
    manager_mentions = {}
    club_mentions = {}
    italian_mentions = {}
    
    for result in all_results:
        combined_text = f"{result['title'].lower()} {result['snippet'].lower()}"
        
        for keyword in manager_keywords:
            if keyword in combined_text:
                if keyword not in manager_mentions:
                    manager_mentions[keyword] = []
                manager_mentions[keyword].append(result)
        
        for keyword in club_keywords:
            if keyword in combined_text:
                if keyword not in club_mentions:
                    club_mentions[keyword] = []
                club_mentions[keyword].append(result)
        
        for keyword in italian_keywords:
            if keyword in combined_text:
                if keyword not in italian_mentions:
                    italian_mentions[keyword] = []
                italian_mentions[keyword].append(result)
    
    print(f"Manager keywords found:")
    for keyword, mentions in manager_mentions.items():
        print(f"  {keyword}: {len(mentions)} mentions")
        if keyword == 'harry kewell' and mentions:
            print(f"    üéØ HARRY KEWELL MATCHES (showing top 2):")
            for mention in mentions[:2]:
                print(f"      - {mention['title']}")
                print(f"        {mention['snippet'][:150]}...")
    
    print(f"\nClub keywords found:")
    for keyword, mentions in club_mentions.items():
        print(f"  {keyword}: {len(mentions)} mentions")
        if keyword == 'notts county' and mentions:
            print(f"    ‚öΩ NOTTS COUNTY MATCHES (showing top 2):")
            for mention in mentions[:2]:
                print(f"      - {mention['title']}")
                print(f"        {mention['snippet'][:150]}...")
        if keyword == 'crawley town' and mentions:
            print(f"    üèüÔ∏è CRAWLEY TOWN MATCHES (showing top 2):")
            for mention in mentions[:2]:
                print(f"      - {mention['title']}")
                print(f"        {mention['snippet'][:150]}...")
    
    print(f"\nItalian connection keywords found:")
    for keyword, mentions in italian_mentions.items():
        print(f"  {keyword}: {len(mentions)} mentions")
    
    # Create summary analysis file
    analysis_file = 'workspace/australian_manager_italian_kit_analysis_summary.txt'
    with open(analysis_file, 'w', encoding='utf-8') as f:
        f.write("AUSTRALIAN FOOTBALL MANAGER - ENGLISH CLUB - ITALIAN KIT CONNECTION ANALYSIS\n")
        f.write("=" * 75 + "\n\n")
        f.write(f"Analysis Date: {datetime.now().strftime('%Y-%m-%d %H:%M:%S')}\n")
        f.write(f"Total Search Results: {len(all_results)}\n")
        f.write(f"High Relevance Results: {len(high_relevance_results)}\n")
        f.write(f"Triple Connection Results: {len(triple_connection_results)}\n\n")
        
        f.write("SEARCH OBJECTIVES STATUS:\n")
        f.write("-" * 25 + "\n")
        f.write(f"1. Australian Manager Identification: {len(australian_manager_results)} results\n")
        f.write(f"2. English Club Connection: {len(notts_county_results)} Notts County mentions\n")
        f.write(f"3. Italian Kit Connection: {len(italian_connection_results)} results\n")
        f.write(f"4. Harry Kewell Mentions: {len(manager_mentions.get('harry kewell', []))} results\n")
        f.write(f"5. Triple Connections Found: {len(triple_connection_results)} results\n\n")
        
        if triple_connection_results:
            f.write("TOP TRIPLE CONNECTION FINDINGS:\n")
            f.write("-" * 35 + "\n")
            for i, result in enumerate(triple_connection_results[:3], 1):
                f.write(f"{i}. {result['title']}\n")
                f.write(f"   Indicators: {', '.join(result['matching_indicators'])}\n")
                f.write(f"   Link: {result['link']}\n\n")
        
        if high_relevance_results:
            f.write("TOP HIGH RELEVANCE FINDINGS:\n")
            f.write("-" * 30 + "\n")
            for i, result in enumerate(high_relevance_results[:5], 1):
                f.write(f"{i}. {result['title']}\n")
                f.write(f"   Indicators: {', '.join(result['matching_indicators'])}\n")
                f.write(f"   Link: {result['link']}\n")
                f.write(f"   Snippet: {result['snippet'][:200]}...\n\n")
    
    print(f"\nSearch phase complete. Results and analysis saved.")
    print(f"Analysis summary saved to: {analysis_file}")
    print(f"Next step: Analyze the saved results to identify the specific Australian manager and club connections.")
    print(f"\n‚úÖ Australian manager - Italian kit connection search completed successfully!")
```