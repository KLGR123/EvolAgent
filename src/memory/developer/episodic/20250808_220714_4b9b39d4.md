### Development Step 3: Identify Gran Hotel Ciudad de México’s Owner Company and Founder’s Professional Background

**Description**: Research Gran Hotel Ciudad de Mexico to identify its owner company and founder. Search for information about this Mexico City-based company, focusing on finding details about who established it and what their professional background is. Look for corporate ownership records, company history, and biographical information about the founder.

**Use Cases**:
- Due diligence for hospitality acquisitions: private equity firms automating background checks on hotel ownership structures and founder profiles before bidding on properties
- Corporate compliance verification: legal teams extracting beneficial ownership and founder data for anti–money laundering (AML) and Know Your Customer (KYC) filings in Mexico
- Investigative journalism on hotel executives: reporters gathering biographical details and corporate records for in-depth features on industry leaders like Jorge Machuca
- Real estate development vetting: developers researching historical ownership and management entities of landmark buildings like Gran Hotel Ciudad de México before renovation approvals
- Hospitality academic case studies: university researchers compiling founder career backgrounds and company histories for teaching materials in hotel management programs
- Automated competitor intelligence: consulting firms scheduling regular SERPAPI queries to track changes in ownership and leadership across competing hotel groups
- Credit risk assessment for lending: banks’ risk analysts collecting and validating ultimate beneficial owner information of hotel companies to evaluate loan eligibility
- Travel journalism content creation: bloggers and editors sourcing factual company history and ownership anecdotes to enrich articles on Mexico City’s iconic hotels

```
import os
import json
import requests
from datetime import datetime

print('=== GRAN HOTEL CIUDAD DE MEXICO RESEARCH - PHASE 3 ===') 
print('Objective: Research specific companies and founders identified in Phase 2')
print('Focus: Grupo Hunan founding details, Jorge Machuca background, and Valiant Hoteles ownership structure\n')

# First, let's inspect the analysis results from Phase 2 to understand our research targets
print('=== LOADING PHASE 2 ANALYSIS RESULTS ===')
analysis_file = 'workspace/gran_hotel_analysis_results.json'

if os.path.exists(analysis_file):
    print(f'Loading analysis results from: {analysis_file}')
    
    with open(analysis_file, 'r', encoding='utf-8') as f:
        analysis_data = json.load(f)
    
    print('\nAnalysis file structure:')
    for key, value in analysis_data.items():
        if isinstance(value, dict):
            print(f'  {key}: Dictionary with {len(value)} keys')
        elif isinstance(value, list):
            print(f'  {key}: List with {len(value)} items')
            if len(value) > 0:
                print(f'    Sample item: {value[0]}')
        else:
            print(f'  {key}: {value}')
    
    print('\n=== CONFIRMED RESEARCH TARGETS FROM PHASE 2 ===')
    if 'key_individuals' in analysis_data:
        print('Key Individuals:')
        for person in analysis_data['key_individuals']:
            print(f'  • {person.get("name", "Unknown")} - {person.get("role", "Unknown role")}')
    
    if 'company_leads' in analysis_data:
        print('\nCompany Leads:')
        for company in analysis_data['company_leads']:
            print(f'  • {company.get("company", "Unknown")} - {company.get("context", "No context")}')
    
    if 'priority_research_targets' in analysis_data:
        print('\nPriority Research Targets:')
        for target in analysis_data['priority_research_targets']:
            print(f'  • {target}')
else:
    print(f'Analysis file not found at: {analysis_file}')
    print('Available workspace files:')
    if os.path.exists('workspace'):
        workspace_files = os.listdir('workspace')
        for file in workspace_files:
            print(f'  - {file}')

print('\n=== PHASE 3: TARGETED COMPANY AND FOUNDER RESEARCH ===')
print('Starting detailed research on identified entities\n')

# Get API key for searches
api_key = os.getenv("SERPAPI_API_KEY")

if api_key:
    print('SERPAPI key available. Proceeding with targeted Google searches.\n')
    
    # Research 1: Grupo Hunan - Company details and founding information
    print('=== RESEARCH 1: GRUPO HUNAN COMPANY DETAILS ===')
    
    grupo_hunan_params = {
        "q": "Grupo Hunan Mexico company founder owner hospitality hotels",
        "api_key": api_key,
        "engine": "google",
        "google_domain": "google.com",
        "safe": "off",
        "num": 6,
        "gl": "mx"  # Mexico region
    }
    
    print('Searching: "Grupo Hunan Mexico company founder owner hospitality hotels"')
    grupo_response = requests.get("https://serpapi.com/search.json", params=grupo_hunan_params)
    
    grupo_hunan_data = []
    
    if grupo_response.status_code == 200:
        grupo_results = grupo_response.json()
        
        if grupo_results.get("organic_results"):
            print(f'\n=== GRUPO HUNAN SEARCH RESULTS ({len(grupo_results["organic_results"])} results) ===\n')
            
            for i, result in enumerate(grupo_results["organic_results"]):
                print(f'Result {i+1}:')
                print(f'  Title: {result.get("title", "No title")}')
                print(f'  Link: {result.get("link", "No link")}')
                print(f'  Snippet: {result.get("snippet", "No snippet")}')
                
                # Check for founder/ownership keywords
                content = (result.get('title', '') + ' ' + result.get('snippet', '')).lower()
                founder_keywords = ['founder', 'founded', 'established', 'created', 'owner', 'ceo', 'presidente']
                found_keywords = [kw for kw in founder_keywords if kw in content]
                
                if found_keywords:
                    print(f'  *** FOUNDER/OWNERSHIP KEYWORDS: {found_keywords} ***')
                
                print()
                
                grupo_hunan_data.append({
                    'title': result.get('title', ''),
                    'link': result.get('link', ''),
                    'snippet': result.get('snippet', ''),
                    'founder_keywords': found_keywords
                })
        else:
            print('No organic results found for Grupo Hunan search')
    else:
        print(f'Grupo Hunan search failed with status code: {grupo_response.status_code}')
    
    # Research 2: Jorge Machuca biographical information
    print('\n=== RESEARCH 2: JORGE MACHUCA BIOGRAPHICAL INFORMATION ===')
    
    machuca_params = {
        "q": "Jorge Machuca Sanchez hotel director Mexico biography career background",
        "api_key": api_key,
        "engine": "google",
        "google_domain": "google.com",
        "safe": "off",
        "num": 6,
        "gl": "mx"
    }
    
    print('Searching: "Jorge Machuca Sanchez hotel director Mexico biography career background"')
    machuca_response = requests.get("https://serpapi.com/search.json", params=machuca_params)
    
    machuca_data = []
    
    if machuca_response.status_code == 200:
        machuca_results = machuca_response.json()
        
        if machuca_results.get("organic_results"):
            print(f'\n=== JORGE MACHUCA SEARCH RESULTS ({len(machuca_results["organic_results"])} results) ===\n')
            
            for i, result in enumerate(machuca_results["organic_results"]):
                print(f'Result {i+1}:')
                print(f'  Title: {result.get("title", "No title")}')
                print(f'  Link: {result.get("link", "No link")}')
                print(f'  Snippet: {result.get("snippet", "No snippet")}')
                
                # Check for biographical keywords
                content = (result.get('title', '') + ' ' + result.get('snippet', '')).lower()
                bio_keywords = ['experience', 'career', 'education', 'background', 'professional', 'licenciatura', 'administración']
                found_keywords = [kw for kw in bio_keywords if kw in content]
                
                if found_keywords:
                    print(f'  *** BIOGRAPHICAL KEYWORDS: {found_keywords} ***')
                
                print()
                
                machuca_data.append({
                    'title': result.get('title', ''),
                    'link': result.get('link', ''),
                    'snippet': result.get('snippet', ''),
                    'bio_keywords': found_keywords
                })
        else:
            print('No organic results found for Jorge Machuca search')
    else:
        print(f'Jorge Machuca search failed with status code: {machuca_response.status_code}')
    
    # Research 3: Valiant Hoteles company information
    print('\n=== RESEARCH 3: VALIANT HOTELES COMPANY INFORMATION ===')
    
    valiant_params = {
        "q": "Valiant Hoteles Mexico company owner founder hotel management",
        "api_key": api_key,
        "engine": "google",
        "google_domain": "google.com",
        "safe": "off",
        "num": 6,
        "gl": "mx"
    }
    
    print('Searching: "Valiant Hoteles Mexico company owner founder hotel management"')
    valiant_response = requests.get("https://serpapi.com/search.json", params=valiant_params)
    
    valiant_data = []
    
    if valiant_response.status_code == 200:
        valiant_results = valiant_response.json()
        
        if valiant_results.get("organic_results"):
            print(f'\n=== VALIANT HOTELES SEARCH RESULTS ({len(valiant_results["organic_results"])} results) ===\n')
            
            for i, result in enumerate(valiant_results["organic_results"]):
                print(f'Result {i+1}:')
                print(f'  Title: {result.get("title", "No title")}')
                print(f'  Link: {result.get("link", "No link")}')
                print(f'  Snippet: {result.get("snippet", "No snippet")}')
                
                # Check for company ownership keywords
                content = (result.get('title', '') + ' ' + result.get('snippet', '')).lower()
                company_keywords = ['owner', 'founder', 'ceo', 'director', 'established', 'management company']
                found_keywords = [kw for kw in company_keywords if kw in content]
                
                if found_keywords:
                    print(f'  *** COMPANY OWNERSHIP KEYWORDS: {found_keywords} ***')
                
                print()
                
                valiant_data.append({
                    'title': result.get('title', ''),
                    'link': result.get('link', ''),
                    'snippet': result.get('snippet', ''),
                    'company_keywords': found_keywords
                })
        else:
            print('No organic results found for Valiant Hoteles search')
    else:
        print(f'Valiant Hoteles search failed with status code: {valiant_response.status_code}')
    
    # Compile comprehensive research data
    comprehensive_research = {
        'hotel_name': 'Gran Hotel Ciudad de Mexico',
        'research_phase': 'Phase 3 - Targeted Company and Founder Research',
        'research_timestamp': datetime.now().isoformat(),
        'research_targets': {
            'grupo_hunan': {
                'search_query': grupo_hunan_params['q'],
                'results': grupo_hunan_data,
                'results_count': len(grupo_hunan_data)
            },
            'jorge_machuca': {
                'search_query': machuca_params['q'],
                'results': machuca_data,
                'results_count': len(machuca_data)
            },
            'valiant_hoteles': {
                'search_query': valiant_params['q'],
                'results': valiant_data,
                'results_count': len(valiant_data)
            }
        },
        'total_searches_conducted': 3,
        'total_results_collected': len(grupo_hunan_data) + len(machuca_data) + len(valiant_data)
    }
    
    # Save comprehensive research data
    with open('workspace/gran_hotel_comprehensive_research.json', 'w', encoding='utf-8') as f:
        json.dump(comprehensive_research, f, indent=2, ensure_ascii=False)
    
    print('=== PHASE 3 RESEARCH SUMMARY ===')
    print(f'Grupo Hunan search results: {len(grupo_hunan_data)}')
    print(f'Jorge Machuca search results: {len(machuca_data)}')
    print(f'Valiant Hoteles search results: {len(valiant_data)}')
    print(f'Total results collected: {comprehensive_research["total_results_collected"]}')
    print(f'\nComprehensive research data saved to: workspace/gran_hotel_comprehensive_research.json')
    
else:
    print('No SERPAPI key available - using alternative search approach')
    
    try:
        from ddgs import DDGS
        
        print('Using DuckDuckGo search for targeted research')
        searcher = DDGS(timeout=10)
        
        # Alternative research using DDGS
        print('\n=== ALTERNATIVE RESEARCH: GRUPO HUNAN ===')
        grupo_query = "Grupo Hunan Mexico hospitality company founder owner"
        print(f'Searching: "{grupo_query}"')
        
        grupo_results = searcher.text(grupo_query, max_results=5, backend=["google", "duckduckgo"], safesearch="off", region="en-us")
        
        if grupo_results:
            print(f'\nFound {len(grupo_results)} results for Grupo Hunan:')
            for i, result in enumerate(grupo_results):
                print(f'  {i+1}. {result.get("title", "No title")}')
                print(f'     {result.get("body", "No description")[:100]}...')
        
        # Save alternative research results
        alternative_research = {
            'hotel_name': 'Gran Hotel Ciudad de Mexico',
            'research_method': 'DuckDuckGo (DDGS) - Alternative',
            'grupo_hunan_results': grupo_results if grupo_results else [],
            'research_timestamp': datetime.now().isoformat()
        }
        
        with open('workspace/gran_hotel_alternative_research.json', 'w', encoding='utf-8') as f:
            json.dump(alternative_research, f, indent=2, ensure_ascii=False)
        
        print(f'\nAlternative research saved to: workspace/gran_hotel_alternative_research.json')
        
    except ImportError:
        print('DDGS library not available and no SERPAPI key - limited research capability')

print('\n=== PHASE 3 COMPLETE ===')
print('Targeted company and founder research completed')
print('Next steps:')
print('1. Analyze all collected data to identify ownership structure')
print('2. Determine the ultimate owner company and founder')
print('3. Compile final comprehensive report with biographical information')
```