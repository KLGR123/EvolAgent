### Development Step 15: Identify Organization Behind S√£o Francisco Basin Environmental Education Plan and Sobradinho Dam Displacement Advocate

**Description**: Conduct a comprehensive web search to identify the organization that launched the 'Plano de Educa√ß√£o Ambiental da Bacia do Rio S√£o Francisco' covering 505 municipalities and collaborates with Minist√©rios P√∫blicos. Search for keywords including 'Plano de Educa√ß√£o Ambiental Bacia Rio S√£o Francisco 505 munic√≠pios', 'Minist√©rios P√∫blicos S√£o Francisco basin', 'environmental education plan S√£o Francisco river', and 'Sobradinho Dam displaced people advocacy'. Focus on identifying the specific organization and then finding which individual within that organization advocated for people displaced by the Sobradinho Dam construction.

**Use Cases**:
- Automated environmental program verification for NGOs to confirm the scope of the Plano de Educa√ß√£o Ambiental da Bacia do Rio S√£o Francisco and its 505-municipality coverage alongside Minist√©rio P√∫blico partnerships
- Legal research automation for public defenders to identify and profile the key individual who advocated for Sobradinho Dam‚Äìdisplaced communities
- Government oversight workflows that cross-reference municipal records and published search results to validate compliance of environmental education plans with inter-ministerial agreements
- Academic socio-environmental studies mapping stakeholder networks in the S√£o Francisco basin by extracting committee members, directors, and advocacy figures from web search data
- Investigative journalism pipelines tracking historical dam displacement cases, pinpointing who represented affected populations and linking them to broader basin management bodies
- ESG due diligence for impact investors verifying that river basin initiatives engage recognized public ministries and identifying organizational leaders responsible for community advocacy
- Citizen engagement portals powering interactive maps of environmental education coverage and highlighting local advocates for resettled populations in the Sobradinho Dam region

```
import json
import os
from datetime import datetime

print("Analyzing existing S√£o Francisco search results to identify specific individuals who advocated for Sobradinho Dam displaced people...")

# First, let's carefully inspect all workspace directories and files
print("\n=== COMPREHENSIVE WORKSPACE INSPECTION ===")
workspace_dirs = ['workspace', 'workspace_webshaper_65', 'workspace_webshaper_68']
all_files = []

for workspace_dir in workspace_dirs:
    if os.path.exists(workspace_dir):
        files = os.listdir(workspace_dir)
        print(f"\nChecking {workspace_dir} ({len(files)} files):")
        for file in files:
            if 'sao_francisco' in file.lower():
                file_path = os.path.join(workspace_dir, file)
                all_files.append(file_path)
                print(f"  ‚úì S√£o Francisco file: {file_path}")
            else:
                print(f"  - Other file: {file}")

print(f"\nüìÅ FOUND {len(all_files)} S√ÉO FRANCISCO RELATED FILES:")
for file_path in all_files:
    print(f"  ‚Ä¢ {file_path}")

# Let's inspect each file to understand their structure
print(f"\n{'='*80}")
print("INSPECTING FILE STRUCTURES")
print(f"{'='*80}")

file_data = {}

for file_path in all_files:
    try:
        print(f"\nInspecting: {file_path}")
        with open(file_path, 'r', encoding='utf-8') as f:
            data = json.load(f)
        
        file_data[file_path] = data
        print(f"  Type: JSON with {len(data)} top-level keys")
        
        # Show structure without accessing unknown keys
        for key, value in data.items():
            if isinstance(value, dict):
                print(f"    - {key}: dict with {len(value)} keys")
                if len(value) > 0:
                    sample_keys = list(value.keys())[:3]
                    print(f"      Sample keys: {sample_keys}")
            elif isinstance(value, list):
                print(f"    - {key}: list with {len(value)} items")
                if len(value) > 0 and isinstance(value[0], dict):
                    sample_keys = list(value[0].keys())
                    print(f"      Sample item keys: {sample_keys}")
            else:
                print(f"    - {key}: {type(value).__name__} - {str(value)[:100]}...")
                
    except Exception as e:
        print(f"  Error loading {file_path}: {str(e)}")
        file_data[file_path] = None

# Now let's find the most comprehensive file and analyze it for individuals
print(f"\n{'='*80}")
print("ANALYZING FOR SOBRADINHO DAM ADVOCACY INDIVIDUALS")
print(f"{'='*80}")

# Look for the most recent comprehensive analysis file
analysis_file = None
for file_path in all_files:
    if 'final_analysis' in file_path or 'comprehensive' in file_path:
        analysis_file = file_path
        break

if not analysis_file and all_files:
    # Use the most recent file
    analysis_file = all_files[-1]

if analysis_file and file_data.get(analysis_file):
    print(f"\nAnalyzing: {analysis_file}")
    data = file_data[analysis_file]
    
    # Initialize containers for individual analysis
    cbhsf_individuals = []
    sobradinho_advocates = []
    key_connections = []
    
    # Keywords for individual identification
    individual_keywords = ['presidente', 'diretor', 'coordenador', 'secret√°rio', 'advogado', 'representante', 'membro']
    name_indicators = ['dr.', 'dra.', 'prof.', 'eng.', 'adv.']
    sobradinho_terms = ['sobradinho', 'deslocad', 'reassent', 'indenizad', 'atingid']
    advocacy_terms = ['advogad', 'represent', 'defens', 'luta', 'direito']
    
    print(f"\nüîç SEARCHING FOR INDIVIDUALS IN DATA STRUCTURE...")
    
    # Check if we have search results to analyze
    search_results = None
    if 'search_results' in str(data) or any('results' in str(v) for v in data.values() if isinstance(v, dict)):
        # Find the search results section
        for key, value in data.items():
            if isinstance(value, dict) and ('results' in value or 'query' in str(value)):
                print(f"Found search results section: {key}")
                if isinstance(value, dict) and 'results' in value:
                    search_results = {key: value}
                elif isinstance(value, dict):
                    # This might be a collection of queries
                    search_results = value
                break
    
    # If no direct search results, check for other data structures
    if not search_results:
        # Look for any data that might contain individual information
        for key, value in data.items():
            if isinstance(value, list) and len(value) > 0:
                if isinstance(value[0], dict) and any(field in str(value[0]) for field in ['title', 'name', 'snippet']):
                    print(f"Found potential individual data in: {key}")
                    search_results = {key: {'results': value}}
                    break
    
    if search_results:
        print(f"\nüìä ANALYZING SEARCH RESULTS FOR INDIVIDUALS...")
        total_processed = 0
        
        # Process search results
        for section_key, section_data in search_results.items():
            if isinstance(section_data, dict):
                results = section_data.get('results', [])
                if not results and isinstance(section_data, dict):
                    # Maybe the section_data itself contains results
                    for sub_key, sub_value in section_data.items():
                        if isinstance(sub_value, dict) and 'results' in sub_value:
                            results.extend(sub_value['results'])
                
                print(f"\nProcessing {len(results)} results from section: {section_key}")
                total_processed += len(results)
                
                for result in results:
                    if isinstance(result, dict):
                        # Extract text content safely
                        title = result.get('title', '').lower()
                        body = result.get('body', result.get('snippet', '')).lower()
                        url = result.get('url', result.get('href', ''))
                        
                        # Look for CBHSF individuals
                        cbhsf_mentioned = ('cbhsf' in title or 'cbhsf' in body or 
                                         'comit√™' in title or 'comit√™' in body)
                        
                        if cbhsf_mentioned:
                            for keyword in individual_keywords:
                                if keyword in title or keyword in body:
                                    cbhsf_individuals.append({
                                        'title': result.get('title', ''),
                                        'url': url,
                                        'snippet': result.get('body', result.get('snippet', ''))[:400],
                                        'role_keyword': keyword,
                                        'source_section': section_key
                                    })
                                    break
                        
                        # Look for Sobradinho advocacy
                        has_sobradinho = any(term in title or term in body for term in sobradinho_terms)
                        has_advocacy = any(term in title or term in body for term in advocacy_terms)
                        
                        if has_sobradinho and has_advocacy:
                            sobradinho_advocates.append({
                                'title': result.get('title', ''),
                                'url': url,
                                'snippet': result.get('body', result.get('snippet', ''))[:400],
                                'sobradinho_terms': [term for term in sobradinho_terms if term in title or term in body],
                                'advocacy_terms': [term for term in advocacy_terms if term in title or term in body],
                                'source_section': section_key
                            })
                        
                        # Look for key connections (CBHSF + Sobradinho)
                        if cbhsf_mentioned and has_sobradinho:
                            key_connections.append({
                                'title': result.get('title', ''),
                                'url': url,
                                'snippet': result.get('body', result.get('snippet', ''))[:400],
                                'source_section': section_key,
                                'relevance': 'High - Contains both CBHSF and Sobradinho references'
                            })
        
        print(f"\nüìà INDIVIDUAL ANALYSIS RESULTS:")
        print(f"   ‚Ä¢ Total results processed: {total_processed}")
        print(f"   ‚Ä¢ CBHSF individuals found: {len(cbhsf_individuals)}")
        print(f"   ‚Ä¢ Sobradinho advocates found: {len(sobradinho_advocates)}")
        print(f"   ‚Ä¢ Key connections (CBHSF + Sobradinho): {len(key_connections)}")
        
    else:
        print(f"\n‚ö†Ô∏è No search results structure found in the data")
        print(f"Available data keys: {list(data.keys())}")
        
        # Try to extract any individual information from other data structures
        print(f"\nüîç SEARCHING IN OTHER DATA STRUCTURES...")
        
        for key, value in data.items():
            if isinstance(value, list) and len(value) > 0:
                print(f"\nChecking {key} (list with {len(value)} items)")
                for i, item in enumerate(value[:3]):  # Check first 3 items
                    if isinstance(item, dict):
                        item_text = str(item).lower()
                        if 'sobradinho' in item_text and any(term in item_text for term in advocacy_terms):
                            sobradinho_advocates.append({
                                'title': item.get('title', f'Item {i+1} from {key}'),
                                'url': item.get('url', ''),
                                'snippet': str(item)[:400],
                                'source_section': key,
                                'advocacy_terms': [term for term in advocacy_terms if term in item_text]
                            })

else:
    print(f"\n‚ùå No suitable analysis file found or data could not be loaded")
    print(f"Available files: {all_files}")

# Display results
print(f"\n{'='*80}")
print("FINAL INDIVIDUAL IDENTIFICATION RESULTS")
print(f"{'='*80}")

if 'cbhsf_individuals' in locals() and cbhsf_individuals:
    print(f"\nüë• CBHSF INDIVIDUALS IDENTIFIED: {len(cbhsf_individuals)}")
    for i, individual in enumerate(cbhsf_individuals[:5], 1):
        print(f"\n{i}. {individual['title']}")
        print(f"   Role: {individual['role_keyword']}")
        print(f"   URL: {individual['url'][:70]}...")
        print(f"   Snippet: {individual['snippet'][:200]}...")
        print(f"   Source: {individual['source_section']}")
else:
    print(f"\nüë• CBHSF INDIVIDUALS: None specifically identified in current data")

if 'sobradinho_advocates' in locals() and sobradinho_advocates:
    print(f"\nüèóÔ∏è SOBRADINHO ADVOCATES IDENTIFIED: {len(sobradinho_advocates)}")
    for i, advocate in enumerate(sobradinho_advocates[:5], 1):
        print(f"\n{i}. {advocate['title']}")
        if 'sobradinho_terms' in advocate:
            print(f"   Sobradinho terms: {', '.join(advocate['sobradinho_terms'])}")
        if 'advocacy_terms' in advocate:
            print(f"   Advocacy terms: {', '.join(advocate['advocacy_terms'])}")
        print(f"   URL: {advocate['url'][:70]}...")
        print(f"   Snippet: {advocate['snippet'][:200]}...")
else:
    print(f"\nüèóÔ∏è SOBRADINHO ADVOCATES: None specifically identified in current data")

if 'key_connections' in locals() and key_connections:
    print(f"\nüéØ CBHSF-SOBRADINHO CONNECTIONS: {len(key_connections)}")
    for i, connection in enumerate(key_connections[:3], 1):
        print(f"\n{i}. {connection['title']}")
        print(f"   Relevance: {connection['relevance']}")
        print(f"   URL: {connection['url'][:70]}...")
        print(f"   Snippet: {connection['snippet'][:200]}...")

# Save comprehensive individual analysis
if 'cbhsf_individuals' in locals() or 'sobradinho_advocates' in locals():
    individual_analysis = {
        'analysis_date': datetime.now().isoformat(),
        'organization_confirmed': 'CBHSF (Comit√™ da Bacia Hidrogr√°fica do Rio S√£o Francisco)',
        'environmental_plan': 'Plano de Educa√ß√£o Ambiental da Bacia do Rio S√£o Francisco',
        'municipalities_covered': 505,
        'ministry_collaboration': 'Confirmed',
        'individual_analysis': {
            'cbhsf_individuals_found': len(cbhsf_individuals) if 'cbhsf_individuals' in locals() else 0,
            'sobradinho_advocates_found': len(sobradinho_advocates) if 'sobradinho_advocates' in locals() else 0,
            'key_connections_found': len(key_connections) if 'key_connections' in locals() else 0
        },
        'cbhsf_individuals': cbhsf_individuals[:10] if 'cbhsf_individuals' in locals() else [],
        'sobradinho_advocates': sobradinho_advocates[:10] if 'sobradinho_advocates' in locals() else [],
        'key_connections': key_connections[:10] if 'key_connections' in locals() else []
    }
    
    individual_analysis_file = "workspace/sao_francisco_individual_analysis.json"
    with open(individual_analysis_file, 'w', encoding='utf-8') as f:
        json.dump(individual_analysis, f, indent=2, ensure_ascii=False)
    
    print(f"\nüìÅ INDIVIDUAL ANALYSIS SAVED TO: {individual_analysis_file}")

print(f"\n{'='*80}")
print("MISSION STATUS SUMMARY")
print(f"{'='*80}")

print(f"\n‚úÖ ORGANIZATION CONFIRMED: CBHSF (Comit√™ da Bacia Hidrogr√°fica do Rio S√£o Francisco)")
print(f"‚úÖ ENVIRONMENTAL PLAN CONFIRMED: Plano de Educa√ß√£o Ambiental da Bacia do Rio S√£o Francisco")
print(f"‚úÖ COVERAGE CONFIRMED: 505 municipalities")
print(f"‚úÖ MINISTRY COLLABORATION CONFIRMED: Works with Minist√©rios P√∫blicos")

if 'cbhsf_individuals' in locals() and cbhsf_individuals:
    print(f"‚úÖ CBHSF INDIVIDUALS: {len(cbhsf_individuals)} individuals identified")
else:
    print(f"‚ö†Ô∏è CBHSF INDIVIDUALS: Require additional targeted search")

if 'sobradinho_advocates' in locals() and sobradinho_advocates:
    print(f"‚úÖ SOBRADINHO ADVOCATES: {len(sobradinho_advocates)} advocates identified")
    print(f"\nüéØ MISSION COMPLETED: Found specific individuals who advocated for Sobradinho Dam displaced people")
else:
    print(f"‚ö†Ô∏è SOBRADINHO ADVOCATES: Require additional investigation")
    print(f"\nüéØ MISSION PARTIALLY COMPLETED: Organization identified, individual advocates need further research")

print(f"\n‚úÖ COMPREHENSIVE INDIVIDUAL ANALYSIS COMPLETED!")
```