### Development Step 3: Identify BFC Dynamoâ€™s 16 August 1986 Opening Match Venue at Berlin Sports Complex and Attendance

**Description**: Search for information about BFC Dynamo's opening match on 16 August 1986, focusing on identifying the specific sports complex in Berlin where it took place and the attendance figures. Search for keywords including 'BFC Dynamo 16 August 1986 opening match', 'Berliner FC Dynamo August 1986 attendance', 'DDR-Oberliga 1986-87 season opening match Berlin', and 'BFC Dynamo home stadium 1986 spectators'. Look for match reports, historical records, or sports databases that document this specific game and the number of spectators who attended at the Berlin sports complex with multiple facilities.

**Use Cases**:
- Automating sports history research by extracting match dates, venues, and attendance figures for a Berlin clubâ€™s opening fixtures in academic publications
- Enriching a digital sports archiveâ€™s metadata by programmatically retrieving stadium names and crowd numbers for DDR-Oberliga seasons
- Powering a fan engagement dashboard that displays historical attendance trends and venue details for Berliner FC Dynamoâ€™s past campaigns
- Supporting data-driven facility management by aggregating spectator counts to forecast maintenance and staffing needs at large sports complexes
- Enabling investigative journalism teams to fact-check match reports and verify attendance discrepancies in East German football archives
- Feeding a predictive ticket-sales model with historical crowd data and venue capacities to optimize pricing strategies for upcoming games
- Assisting sports marketers in benchmarking competitor attendance and stadium utilization to design targeted promotional campaigns
- Building a mobile trivia app that dynamically pulls historical match information, including the 16 August 1986 opener and its spectator turnout

```
import os
import requests
import json
from datetime import datetime

# Get SerpAPI key from environment variables
api_key = os.getenv("SERPAPI_API_KEY")

if api_key is None:
    print("Error: Missing API key. Make sure you have SERPAPI_API_KEY in your environment variables.")
else:
    print("API key found, proceeding with BFC Dynamo search...")
    print("Searching for BFC Dynamo's opening match on 16 August 1986")
    print("=" * 80)

    # Define comprehensive search queries targeting the specific match
    search_queries = [
        'BFC Dynamo 16 August 1986 opening match',
        'Berliner FC Dynamo August 1986 attendance',
        'DDR-Oberliga 1986-87 season opening match Berlin',
        'BFC Dynamo home stadium 1986 spectators',
        '"BFC Dynamo" "16 August 1986" match attendance',
        'Berliner FC Dynamo 1986 season opener Berlin stadium',
        'DDR-Oberliga BFC Dynamo August 1986 match report',
        'BFC Dynamo Friedrich-Ludwig-Jahn-Sportpark 1986',
        'East German football BFC Dynamo August 1986 attendance',
        'Berlin sports complex BFC Dynamo 1986-87 season'
    ]

    print(f"Starting comprehensive search with {len(search_queries)} different query strategies...")
    print("=" * 80)

    # Store all search results
    all_results = []

    # Perform searches with different queries
    for i, query in enumerate(search_queries, 1):
        print(f"\nSearch {i}/{len(search_queries)}: {query}")
        print("-" * 60)
        
        # Prepare API request parameters
        params = {
            "q": query,
            "api_key": api_key,
            "engine": "google",
            "google_domain": "google.com",
            "safe": "off",
            "num": 12,  # Get sufficient results for comprehensive search
            "type": "search"
        }
        
        # Make API request to SerpAPI
        try:
            response = requests.get("https://serpapi.com/search.json", params=params, timeout=25)
            
            if response.status_code == 200:
                results = response.json()
                
                if results.get("organic_results"):
                    print(f"Found {len(results['organic_results'])} results for query {i}")
                    
                    # Process and display results
                    for j, result in enumerate(results["organic_results"], 1):
                        title = result.get('title', 'No title')
                        link = result.get('link', 'No link')
                        snippet = result.get('snippet', 'No snippet')
                        
                        print(f"\nResult {j}:")
                        print(f"Title: {title}")
                        print(f"Link: {link}")
                        print(f"Snippet: {snippet}")
                        
                        # Check for key indicators related to BFC Dynamo and the specific match
                        combined_text = f"{title.lower()} {snippet.lower()}"
                        key_indicators = [
                            '16 august 1986', 'august 1986', 'bfc dynamo', 'berliner fc dynamo',
                            'ddr-oberliga', '1986-87', 'attendance', 'spectators', 'stadium',
                            'sports complex', 'berlin', 'opening match', 'season opener',
                            'friedrich-ludwig-jahn', 'sportpark', 'east german', 'gdr'
                        ]
                        
                        matching_indicators = [indicator for indicator in key_indicators if indicator in combined_text]
                        
                        if len(matching_indicators) >= 4:
                            print(f"ðŸŽ¯ HIGHLY RELEVANT RESULT - Contains {len(matching_indicators)} key indicators: {matching_indicators}")
                        elif len(matching_indicators) >= 2:
                            print(f"â­ POTENTIALLY RELEVANT - Contains {len(matching_indicators)} indicators: {matching_indicators}")
                        
                        # Check for specific attendance numbers
                        import re
                        attendance_patterns = [r'\d{1,2}[,.]?\d{3,}', r'attendance.*?\d+', r'spectators.*?\d+', r'\d+.*?spectators']
                        attendance_found = False
                        for pattern in attendance_patterns:
                            if re.search(pattern, combined_text):
                                attendance_found = True
                                print(f"ðŸ“Š ATTENDANCE DATA DETECTED in snippet")
                                break
                        
                        print("-" * 40)
                        
                        # Store result with query info
                        all_results.append({
                            'query_number': i,
                            'query_text': query,
                            'result_number': j,
                            'title': title,
                            'link': link,
                            'snippet': snippet,
                            'matching_indicators': matching_indicators,
                            'relevance_score': len(matching_indicators),
                            'attendance_detected': attendance_found
                        })
                else:
                    print(f"No organic results found for query {i}: '{query}'")
                    
            else:
                print(f"Error: API request failed with status {response.status_code}: {response.text}")
                
        except Exception as e:
            print(f"Error during search {i}: {str(e)}")
        
        print("\n" + "=" * 80)

    # Save all results to workspace for further analysis
    timestamp = datetime.now().strftime('%Y%m%d_%H%M%S')
    results_file = f'workspace/bfc_dynamo_1986_search_results_{timestamp}.json'
    
    with open(results_file, 'w', encoding='utf-8') as f:
        json.dump({
            'search_timestamp': datetime.now().isoformat(),
            'search_purpose': 'Identify BFC Dynamo opening match details from 16 August 1986 including stadium and attendance',
            'total_queries': len(search_queries),
            'total_results': len(all_results),
            'queries': search_queries,
            'results': all_results
        }, f, indent=2, ensure_ascii=False)

    print(f"\n\nSEARCH SUMMARY:")
    print(f"Total queries executed: {len(search_queries)}")
    print(f"Total results collected: {len(all_results)}")
    print(f"Results saved to: {results_file}")

    # Analyze results for high-relevance matches
    print("\n\nANALYZING RESULTS FOR BFC DYNAMO MATCH INFORMATION...")
    print("=" * 50)

    # Sort results by relevance score
    high_relevance_results = [r for r in all_results if r['relevance_score'] >= 4]
    medium_relevance_results = [r for r in all_results if r['relevance_score'] >= 2 and r['relevance_score'] < 4]
    attendance_results = [r for r in all_results if r['attendance_detected']]
    
    print(f"\nHigh relevance results (4+ indicators): {len(high_relevance_results)}")
    for result in high_relevance_results:
        print(f"\nðŸŽ¯ HIGH RELEVANCE:")
        print(f"Query: {result['query_text']}")
        print(f"Title: {result['title']}")
        print(f"Snippet: {result['snippet']}")
        print(f"Link: {result['link']}")
        print(f"Matching indicators: {result['matching_indicators']}")
        if result['attendance_detected']:
            print(f"ðŸ“Š ATTENDANCE DATA DETECTED")
        print("-" * 40)
    
    print(f"\nMedium relevance results (2-3 indicators): {len(medium_relevance_results)}")
    for result in medium_relevance_results[:8]:  # Show top 8 medium relevance
        print(f"\nâ­ MEDIUM RELEVANCE:")
        print(f"Title: {result['title']}")
        print(f"Snippet: {result['snippet'][:200]}...")
        print(f"Indicators: {result['matching_indicators']}")
        if result['attendance_detected']:
            print(f"ðŸ“Š ATTENDANCE DATA DETECTED")
        print("-" * 30)
    
    print(f"\nResults with potential attendance data: {len(attendance_results)}")
    for result in attendance_results[:5]:  # Show top 5 with attendance
        print(f"\nðŸ“Š ATTENDANCE RESULT:")
        print(f"Title: {result['title']}")
        print(f"Snippet: {result['snippet']}")
        print(f"Link: {result['link']}")
        print("-" * 30)
    
    # Look for stadium/venue mentions
    print(f"\n\nSTADIUM/VENUE IDENTIFICATION ANALYSIS:")
    print("=" * 40)
    
    stadium_keywords = ['friedrich-ludwig-jahn', 'sportpark', 'stadium', 'sports complex', 'venue', 'ground']
    stadium_mentions = {}
    
    for result in all_results:
        combined_text = f"{result['title'].lower()} {result['snippet'].lower()}"
        for keyword in stadium_keywords:
            if keyword in combined_text:
                if keyword not in stadium_mentions:
                    stadium_mentions[keyword] = []
                stadium_mentions[keyword].append(result)
    
    print(f"Stadium/venue keywords found:")
    for keyword, mentions in stadium_mentions.items():
        print(f"  {keyword}: {len(mentions)} mentions")
        if keyword in ['friedrich-ludwig-jahn', 'sportpark'] and mentions:
            print(f"    ðŸŸï¸ STADIUM MATCHES (showing top 2):")
            for mention in mentions[:2]:
                print(f"      - {mention['title']}")
                print(f"        {mention['snippet'][:150]}...")
    
    # Create summary analysis file
    analysis_file = 'workspace/bfc_dynamo_1986_analysis_summary.txt'
    with open(analysis_file, 'w', encoding='utf-8') as f:
        f.write("BFC DYNAMO 16 AUGUST 1986 OPENING MATCH SEARCH ANALYSIS\n")
        f.write("=" * 55 + "\n\n")
        f.write(f"Analysis Date: {datetime.now().strftime('%Y-%m-%d %H:%M:%S')}\n")
        f.write(f"Total Search Results: {len(all_results)}\n")
        f.write(f"High Relevance Results: {len(high_relevance_results)}\n")
        f.write(f"Results with Attendance Data: {len(attendance_results)}\n\n")
        
        f.write("SEARCH OBJECTIVES STATUS:\n")
        f.write("-" * 25 + "\n")
        f.write(f"1. Match Date (16 Aug 1986): Searching in {len([r for r in all_results if '16 august 1986' in r['snippet'].lower() or 'august 1986' in r['snippet'].lower()])} results\n")
        f.write(f"2. Stadium/Sports Complex: {len(stadium_mentions)} different venue keywords found\n")
        f.write(f"3. Attendance Figures: {len(attendance_results)} results with potential attendance data\n")
        f.write(f"4. BFC Dynamo References: {len([r for r in all_results if 'bfc dynamo' in r['snippet'].lower() or 'berliner fc dynamo' in r['snippet'].lower()])} results\n\n")
        
        if high_relevance_results:
            f.write("TOP HIGH RELEVANCE FINDINGS:\n")
            f.write("-" * 30 + "\n")
            for i, result in enumerate(high_relevance_results[:5], 1):
                f.write(f"{i}. {result['title']}\n")
                f.write(f"   Indicators: {', '.join(result['matching_indicators'])}\n")
                f.write(f"   Link: {result['link']}\n\n")
    
    print(f"\nSearch phase complete. Results and analysis saved.")
    print(f"Analysis summary saved to: {analysis_file}")
    print(f"Next step: Analyze the saved results to identify specific stadium and attendance figures.")
    print(f"\nâœ… BFC Dynamo search completed successfully!")
```