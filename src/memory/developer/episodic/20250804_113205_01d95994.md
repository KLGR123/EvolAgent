### Development Step 1: Determine Maximum Simultaneous Bird Species Count in YouTube Video Frames

**Description**: Access and analyze the YouTube video at https://www.youtube.com/watch?v=L1vXCYZAYYM to identify and count bird species visible simultaneously throughout the video. Download the video content, examine it frame by frame or at regular intervals to detect when multiple bird species appear on camera at the same time, and determine the maximum number of different bird species visible in any single moment or frame.

**Use Cases**:
- Ornithological research on migratory stopover sites: automated detection of simultaneous bird species in time-lapse field camera videos to quantify peak biodiversity during migration
- Environmental consulting for wind farm development: analyzing drone or fixed‐camera footage to count bird species co‐occurring near turbine blades and assess collision risks
- Ecotourism platform live streams: real-time species diversity overlays generated from livestreamed wildlife reserve cameras to enhance visitor engagement and educational value
- Wildlife conservation monitoring at breeding wetlands: automated frame-by-frame analysis of remote camera traps to determine maximum species richness for population health assessments
- Machine learning dataset curation for multi-species detection: auto-labeling frames where different bird species appear together to build balanced training sets
- Agricultural biodiversity auditing: using ground-level or drone video of crop fields to count and report bird species diversity as part of sustainable farming certification
- Educational nature documentaries: integrating on-screen real-time bird species counts into pre-recorded or live wildlife footage to enrich classroom and public broadcasts

```
import os
import subprocess
import json
from datetime import datetime

# YouTube video URL to analyze for bird species count
url = "https://www.youtube.com/watch?v=L1vXCYZAYYM"
video_id = "L1vXCYZAYYM"

print("=== BIRD SPECIES ANALYSIS: YOUTUBE VIDEO DOWNLOAD ===\n")
print(f"Target video: {url}")
print(f"Video ID: {video_id}")
print(f"Objective: Count maximum bird species visible simultaneously\n")

# Create workspace directory if it doesn't exist
workspace_dir = "workspace"
os.makedirs(workspace_dir, exist_ok=True)
print(f"Workspace directory: {workspace_dir}")

# Step 1: Get video information first
print("\n=== STEP 1: EXTRACTING VIDEO INFORMATION ===\n")

info_cmd = [
    'yt-dlp',
    '--dump-json',
    '--no-playlist',
    url
]

print("Getting video metadata...")
info_result = subprocess.run(info_cmd, capture_output=True, text=True, timeout=60)

if info_result.returncode != 0:
    print(f"Error getting video info: {info_result.stderr}")
    print(f"Return code: {info_result.returncode}")
else:
    print("Video info retrieved successfully")
    
    # Parse and save video information
    try:
        video_info = json.loads(info_result.stdout)
        
        # Extract key information
        title = video_info.get('title', 'Unknown title')
        duration = video_info.get('duration', 0)
        uploader = video_info.get('uploader', 'Unknown uploader')
        view_count = video_info.get('view_count', 'Unknown')
        upload_date = video_info.get('upload_date', 'Unknown')
        
        print(f"Video Title: {title}")
        print(f"Duration: {duration} seconds ({duration/60:.1f} minutes)")
        print(f"Uploader: {uploader}")
        print(f"Views: {view_count}")
        print(f"Upload Date: {upload_date}")
        
        # Save video info for reference
        info_file = os.path.join(workspace_dir, f"{video_id}_info.json")
        with open(info_file, 'w') as f:
            json.dump(video_info, f, indent=2)
        
        print(f"\nVideo info saved to: {info_file}")
        
        # Check available formats for optimal download
        formats = video_info.get('formats', [])
        video_formats = [f for f in formats if f.get('vcodec', 'none') != 'none']
        
        if video_formats:
            # Find best quality format that's not too large
            suitable_formats = [f for f in video_formats if f.get('height', 0) <= 720 and f.get('height', 0) >= 480]
            if not suitable_formats:
                suitable_formats = video_formats
            
            best_format = max(suitable_formats, key=lambda x: x.get('height', 0))
            print(f"\nSelected format: {best_format.get('height', 'Unknown')}p ({best_format.get('ext', 'Unknown')})")
            print(f"Estimated file size: {best_format.get('filesize_approx', 'Unknown')} bytes")
        
    except json.JSONDecodeError as e:
        print(f"Error parsing video info JSON: {e}")
        print(f"Raw output: {info_result.stdout[:500]}...")

# Step 2: Download the video
print("\n=== STEP 2: DOWNLOADING VIDEO FOR ANALYSIS ===\n")

# Set up download parameters for bird analysis
# We want good quality but manageable file size for frame analysis
output_template = os.path.join(workspace_dir, f"{video_id}_birds.%(ext)s")

download_cmd = [
    'yt-dlp',
    '--format', 'best[height<=720][height>=360]/best[height<=720]/best',  # Good quality, not too large
    '--output', output_template,
    url
]

print("Starting video download...")
print(f"Output template: {output_template}")
print(f"Download command: {' '.join(download_cmd)}")

download_result = subprocess.run(download_cmd, capture_output=True, text=True, timeout=300)

if download_result.returncode != 0:
    print(f"\n*** DOWNLOAD FAILED ***")
    print(f"Error: {download_result.stderr}")
    print(f"Return code: {download_result.returncode}")
    print(f"Stdout: {download_result.stdout}")
else:
    print("\n*** DOWNLOAD SUCCESSFUL ***")
    print(f"Download output: {download_result.stdout}")
    
    # Find the downloaded video file
    downloaded_files = []
    for file in os.listdir(workspace_dir):
        if video_id in file and any(file.lower().endswith(ext) for ext in ['.mp4', '.mkv', '.webm', '.avi']):
            full_path = os.path.join(workspace_dir, file)
            file_size = os.path.getsize(full_path)
            downloaded_files.append((file, full_path, file_size))
    
    if downloaded_files:
        print(f"\nDownloaded video files found:")
        video_file_path = None
        for file_name, full_path, size in downloaded_files:
            size_mb = size / (1024 * 1024)
            print(f"  - {file_name} ({size_mb:.2f} MB)")
            if video_file_path is None:  # Use the first (and likely only) video file
                video_file_path = full_path
        
        if video_file_path:
            print(f"\n*** VIDEO READY FOR BIRD ANALYSIS ***")
            print(f"Video file: {os.path.basename(video_file_path)}")
            print(f"File size: {os.path.getsize(video_file_path) / (1024 * 1024):.2f} MB")
            
            # Save download summary for next step
            download_summary = {
                'video_id': video_id,
                'url': url,
                'video_file': video_file_path,
                'file_size_mb': os.path.getsize(video_file_path) / (1024 * 1024),
                'download_timestamp': datetime.now().isoformat(),
                'objective': 'Count maximum bird species visible simultaneously',
                'next_step': 'Frame-by-frame analysis for bird species detection'
            }
            
            summary_file = os.path.join(workspace_dir, f"{video_id}_download_summary.json")
            with open(summary_file, 'w') as f:
                json.dump(download_summary, f, indent=2)
            
            print(f"\nDownload summary saved to: {summary_file}")
            print(f"\nNext step: Extract frames and analyze for bird species")
            
        else:
            print("\n*** ERROR: Video file not found after download ***")
    else:
        print("\n*** ERROR: No video files found in workspace after download ***")
        print("Checking workspace contents:")
        for file in os.listdir(workspace_dir):
            full_path = os.path.join(workspace_dir, file)
            if os.path.isfile(full_path):
                size = os.path.getsize(full_path)
                print(f"  - {file} ({size} bytes)")

print("\n=== VIDEO DOWNLOAD PHASE COMPLETE ===")
print("\nFiles created in workspace/:")
for file in os.listdir(workspace_dir):
    full_path = os.path.join(workspace_dir, file)
    if os.path.isfile(full_path):
        size_mb = os.path.getsize(full_path) / (1024 * 1024)
        print(f"  - {file} ({size_mb:.2f} MB)")

print("\nReady for next phase: Frame extraction and bird species detection analysis")
```