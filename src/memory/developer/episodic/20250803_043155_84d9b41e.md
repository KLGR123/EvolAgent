### Development Step 1: Find first year Apple’s non-split-adjusted AAPL stock price crossed $50 via Google Finance

**Description**: Search Google Finance for Apple Inc. (AAPL) stock price historical data to identify the first year when Apple's stock price exceeded $50 per share without adjusting for stock splits. Access Google Finance directly or use web search to find Apple's historical stock price charts and data, focusing on identifying the earliest date when the stock crossed the $50 threshold in its original, non-split-adjusted form.

**Use Cases**:
- Algorithmic trading systems that automatically search and ingest non-split-adjusted historical prices to trigger buy/sell signals when a stock first surpassed a strategic threshold like $50
- Financial newsrooms conducting retrospective analyses of Apple’s price history to publish milestone-driven articles on market caps and investor sentiment at key price crossings
- Corporate treasury departments planning share repurchase programs by monitoring original price levels pre-splits to optimize timing against long-term valuation benchmarks
- Academic finance researchers compiling time-series data for empirical studies on the effects of price milestones on trading volume and volatility using scraped Google Finance charts
- Compliance teams verifying the accuracy of unadjusted closing prices in historical SEC filings and ensuring disclosures match first-time threshold events reported externally
- Personal finance applications notifying individual investors of legacy price benchmarks (e.g., first time AAPL crossed $50) to enhance educational user insights and portfolio milestones
- Wealth management dashboard developers integrating real-time and historical unadjusted stock price data from Google Finance for comprehensive client performance reviews and milestone tracking

```
import os
import requests
from bs4 import BeautifulSoup
import re
import json
from datetime import datetime

print("=== SEARCHING FOR APPLE (AAPL) HISTORICAL STOCK PRICE DATA ===")
print("Goal: Find the first year when Apple's stock price exceeded $50 per share (non-split-adjusted)")
print("Source: Google Finance and web search for historical data\n")

# Get SerpAPI key from environment variables
api_key = os.getenv("SERPAPI_API_KEY")

if api_key is None:
    print("Error: Missing API key. Make sure you have SERPAPI_API_KEY in your environment variables.")
    exit()

# Define multiple search queries to find Apple historical stock data
search_queries = [
    "Apple AAPL stock price history Google Finance $50 first time exceeded",
    "AAPL historical stock prices non-split adjusted $50 threshold year",
    "Apple stock price 1980s 1990s 2000s when did it reach $50 per share",
    "Google Finance Apple AAPL historical data stock splits timeline",
    "Apple stock price milestones $50 per share original price before splits"
]

print("Step 1: Searching for Apple stock historical data using multiple queries...\n")

all_search_results = {}

for i, query in enumerate(search_queries, 1):
    print(f"Search Query {i}: {query}")
    
    # Prepare API request parameters
    params = {
        "q": query,
        "api_key": api_key,
        "engine": "google",
        "google_domain": "google.com",
        "safe": "off",
        "num": 10,
        "type": "search"
    }
    
    # Make API request to SerpAPI
    response = requests.get("https://serpapi.com/search.json", params=params)
    
    if response.status_code == 200:
        results = response.json()
        
        if results.get("organic_results"):
            all_search_results[f"query_{i}"] = {
                "query": query,
                "results": results["organic_results"]
            }
            print(f"  Found {len(results['organic_results'])} results")
        else:
            print(f"  No results found for this query")
    else:
        print(f"  Error: API request failed with status {response.status_code}")
    
    print()

# Save all search results for analysis
with open('workspace/apple_stock_search_results.json', 'w') as f:
    json.dump(all_search_results, f, indent=2)

print(f"All search results saved to workspace/apple_stock_search_results.json")
print(f"Total search queries executed: {len(all_search_results)}")

# Analyze search results for relevant information
print("\nStep 2: Analyzing search results for Apple stock price information...\n")

relevant_findings = []
year_mentions = []
price_mentions = []

for query_key, query_data in all_search_results.items():
    query_text = query_data['query']
    results = query_data['results']
    
    print(f"--- Analyzing {query_key}: {query_text} ---")
    
    for result in results:
        title = result.get('title', '')
        snippet = result.get('snippet', '')
        url = result.get('link', '')
        
        combined_text = f"{title} {snippet}".lower()
        
        # Look for mentions of $50 or fifty dollars
        price_patterns = [r'\$50', r'fifty dollars', r'50 dollars', r'\$50\.00']
        has_price_mention = any(re.search(pattern, combined_text) for pattern in price_patterns)
        
        # Look for year mentions (1980s-2020s)
        year_matches = re.findall(r'\b(19[8-9]\d|20[0-2]\d)\b', combined_text)
        
        # Look for Apple/AAPL mentions
        has_apple_mention = 'apple' in combined_text or 'aapl' in combined_text
        
        # Look for stock-related terms
        stock_terms = ['stock price', 'share price', 'historical', 'chart', 'finance', 'trading']
        has_stock_terms = any(term in combined_text for term in stock_terms)
        
        # Check for Google Finance specifically
        has_google_finance = 'google finance' in combined_text or 'finance.google' in url
        
        if has_apple_mention and (has_price_mention or has_stock_terms or has_google_finance):
            relevance_score = 0
            if has_price_mention: relevance_score += 3
            if has_google_finance: relevance_score += 2
            if year_matches: relevance_score += len(year_matches)
            if has_stock_terms: relevance_score += 1
            
            finding = {
                'query': query_text,
                'title': title,
                'snippet': snippet,
                'url': url,
                'years_mentioned': year_matches,
                'has_price_mention': has_price_mention,
                'has_google_finance': has_google_finance,
                'relevance_score': relevance_score
            }
            
            relevant_findings.append(finding)
            
            print(f"  RELEVANT: {title}")
            print(f"    URL: {url}")
            print(f"    Years: {year_matches}")
            print(f"    Price mention: {has_price_mention}")
            print(f"    Google Finance: {has_google_finance}")
            print(f"    Relevance score: {relevance_score}")
            print(f"    Snippet: {snippet[:100]}...")
            print()
            
            # Collect year and price mentions for analysis
            if year_matches:
                year_mentions.extend(year_matches)
            if has_price_mention:
                price_mentions.append({
                    'text': combined_text,
                    'years': year_matches,
                    'url': url
                })

# Sort findings by relevance score
relevant_findings.sort(key=lambda x: x['relevance_score'], reverse=True)

print(f"\nStep 3: Summary of relevant findings...")
print(f"Total relevant results found: {len(relevant_findings)}")
print(f"Years mentioned across results: {sorted(set(year_mentions))}")
print(f"Results with $50 price mentions: {len(price_mentions)}")

# Display top findings
print("\n=== TOP 5 MOST RELEVANT RESULTS ===")
for i, finding in enumerate(relevant_findings[:5], 1):
    print(f"\n{i}. {finding['title']}")
    print(f"   URL: {finding['url']}")
    print(f"   Relevance Score: {finding['relevance_score']}")
    print(f"   Years: {finding['years_mentioned']}")
    print(f"   Has $50 mention: {finding['has_price_mention']}")
    print(f"   Google Finance: {finding['has_google_finance']}")
    print(f"   Snippet: {finding['snippet'][:150]}...")

# Save analysis results
analysis_results = {
    'search_date': datetime.now().isoformat(),
    'objective': 'Find first year Apple stock exceeded $50 per share (non-split-adjusted)',
    'total_queries': len(search_queries),
    'total_relevant_findings': len(relevant_findings),
    'years_mentioned': sorted(set(year_mentions)),
    'price_mentions_count': len(price_mentions),
    'top_findings': relevant_findings[:10],
    'next_steps': [
        'Access Google Finance directly for AAPL historical data',
        'Look for stock split information to understand original vs adjusted prices',
        'Identify specific dates when stock crossed $50 threshold',
        'Verify information from multiple financial data sources'
    ]
}

with open('workspace/apple_stock_analysis.json', 'w') as f:
    json.dump(analysis_results, f, indent=2)

print(f"\nAnalysis results saved to workspace/apple_stock_analysis.json")

# Try to access Google Finance directly
print("\nStep 4: Attempting to access Google Finance directly for Apple (AAPL)...")

google_finance_url = "https://www.google.com/finance/quote/AAPL:NASDAQ"
headers = {
    'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36'
}

try:
    response = requests.get(google_finance_url, headers=headers, timeout=15)
    if response.status_code == 200:
        print(f"Successfully accessed Google Finance for AAPL")
        
        # Save the HTML content for analysis
        with open('workspace/google_finance_aapl.html', 'w', encoding='utf-8') as f:
            f.write(response.text)
        
        print(f"Google Finance HTML saved to workspace/google_finance_aapl.html")
        
        # Try to parse for historical data links or information
        soup = BeautifulSoup(response.text, 'html.parser')
        
        # Look for historical data or chart links
        historical_links = []
        for link in soup.find_all('a', href=True):
            href = link['href']
            if 'historical' in href.lower() or 'chart' in href.lower():
                historical_links.append(href)
        
        if historical_links:
            print(f"Found {len(historical_links)} potential historical data links:")
            for link in historical_links[:3]:  # Show first 3
                print(f"  - {link}")
        
        # Look for current stock price information
        price_elements = soup.find_all(text=re.compile(r'\$\d+\.\d+'))
        if price_elements:
            print(f"Current price information found: {price_elements[:3]}")
    
    else:
        print(f"Failed to access Google Finance: HTTP {response.status_code}")
        
except Exception as e:
    print(f"Error accessing Google Finance: {str(e)}")

print("\n" + "="*80)
print("INITIAL RESEARCH COMPLETE")
print("="*80)
print("Files created:")
print("- workspace/apple_stock_search_results.json (raw search data)")
print("- workspace/apple_stock_analysis.json (analysis results)")
print("- workspace/google_finance_aapl.html (Google Finance page content)")
print("\nNext steps:")
print("1. Analyze the search results for specific year mentions")
print("2. Look for historical stock price data sources")
print("3. Research Apple's stock split history to understand original prices")
print("4. Identify the first occurrence of $50+ stock price")
```