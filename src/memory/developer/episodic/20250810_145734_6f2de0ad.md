### Development Step 20: Identify Australian Captain in Arthur Morrisâ€™s 300+ Test Innings Before 1973â€“74 Season

**Description**: Re-examine the original TASK requirements more carefully. The TASK mentions 'Arthur Morris scored over 300 runs in an innings' but the HISTORY shows we identified Greg Chappell instead. Search specifically for Test matches where Arthur Morris actually scored over 300 runs in an innings before the 1973-74 season, and identify who was the Australian captain in that specific match. Focus on Arthur Morris's career highlights, his highest Test scores, and any 300+ run innings he achieved.

**Use Cases**:
- Cricket historians automating searches to verify whether Arthur Morris ever scored 300+ runs in a Test innings and identify the Australian captain who led the team during that match
- Legal researchers conducting targeted queries to find historical case rulings by a specific judge before a given year and extract details on presiding court officials
- Academic scholars automating literature reviews to locate all peer-reviewed articles on gene editing published before 2015 and identify lead authors and their institutional affiliations
- Marketing teams performing focused web searches on competitor product launches in the last quarter, extracting feature highlights and the executive sponsors driving each initiative
- Healthcare compliance officers querying FDA or MHRA archives to find drug recall notices before 2020 and pinpoint the responsible regulatory reviewers for audit trails
- Financial analysts scanning news archives for high-value M&A deals over $1 billion before 2010, logging deal advisors and board chairs who approved the transactions
- Supply chain managers researching commodity price surges in the 1970s, identifying government trade ministers in office during critical market interventions
- Cybersecurity teams automating vulnerability scanning by querying CVE databases for critical advisories before a certain year and extracting the coordinating organizationâ€™s details

```
import os
import requests
import json
from datetime import datetime
import time

# Get SerpAPI key from environment variables
api_key = os.getenv("SERPAPI_API_KEY")

if api_key is None:
    print("Error: Missing API key. Make sure you have SERPAPI_API_KEY in your environment variables.")
else:
    print("API key found, proceeding with search for Arthur Morris 300+ runs innings...")
    print("Target: Find Test matches where Arthur Morris scored over 300 runs in an innings before 1973-74")
    print("Secondary: Identify the Australian captain in that specific match")
    print("=" * 80)

    # Define focused search queries for Arthur Morris 300+ run innings
    search_queries = [
        'Arthur Morris 300 runs Test cricket innings Australia',
        'Arthur Morris highest Test score over 300 runs',
        'Arthur Morris 300+ runs Test match captain Australia',
        'Arthur Morris cricket career 300 runs single innings',
        'Arthur Morris Test cricket records 300 runs before 1974',
        'Arthur Morris batting records Australia Test cricket 300'
    ]

    print(f"Starting focused search with {len(search_queries)} targeted queries...")
    print("Focus: Arthur Morris 300+ run innings, Test matches, Australian captain identification")
    print("=" * 80)

    # Store all search results for analysis
    all_results = []
    successful_searches = 0
    failed_searches = 0

    # Perform searches with different targeted queries and error handling
    for i, query in enumerate(search_queries, 1):
        print(f"\nSearch {i}/{len(search_queries)}: {query}")
        print("-" * 70)
        
        # Prepare API request parameters
        params = {
            "q": query,
            "api_key": api_key,
            "engine": "google",
            "google_domain": "google.com",
            "safe": "off",
            "num": 8,
            "type": "search"
        }
        
        try:
            # Make API request to SerpAPI with timeout
            print(f"Making API request for query {i}...")
            response = requests.get("https://serpapi.com/search.json", params=params, timeout=20)
            
            if response.status_code == 200:
                results = response.json()
                
                if results.get("organic_results"):
                    print(f"âœ… Found {len(results['organic_results'])} results for search {i}")
                    successful_searches += 1
                    
                    # Process and display key results
                    for j, result in enumerate(results["organic_results"], 1):
                        title = result.get('title', 'No title')
                        link = result.get('link', 'No link')
                        snippet = result.get('snippet', 'No snippet')
                        
                        print(f"\nResult {j}:")
                        print(f"Title: {title}")
                        print(f"Link: {link}")
                        print(f"Snippet: {snippet}")
                        
                        # Store result with search context
                        all_results.append({
                            'search_number': i,
                            'query_text': query,
                            'result_number': j,
                            'title': title,
                            'link': link,
                            'snippet': snippet
                        })
                        
                        # Highlight potentially relevant results
                        combined_text = f"{title.lower()} {snippet.lower()}"
                        key_indicators = ['arthur morris', '300', 'runs', 'innings', 'test', 'cricket', 'captain', 'australia', 'batting']
                        matching_indicators = [term for term in key_indicators if term in combined_text]
                        
                        if len(matching_indicators) >= 5:
                            print(f"ğŸ¯ HIGHLY RELEVANT - Contains: {', '.join(matching_indicators)}")
                            
                            # Check for specific scores and captain mentions
                            score_indicators = ['300', '301', '302', '303', '304', '305', '310', '320', '330']
                            captain_indicators = ['captain', 'skipper', 'leader', 'led by']
                            
                            mentioned_scores = [score for score in score_indicators if score in combined_text]
                            mentioned_captains = [term for term in captain_indicators if term in combined_text]
                            
                            if mentioned_scores:
                                print(f"ğŸ SCORE MENTIONS: {', '.join(mentioned_scores)}")
                            if mentioned_captains:
                                print(f"ğŸ‘¨â€âœˆï¸ CAPTAIN MENTIONS: {', '.join(mentioned_captains)}")
                                
                            # Check for match details
                            match_terms = ['test match', 'versus', 'against', 'series', 'ground', 'stadium']
                            match_mentions = [term for term in match_terms if term in combined_text]
                            if match_mentions:
                                print(f"ğŸŸï¸ MATCH DETAILS: {', '.join(match_mentions)}")
                        
                        elif len(matching_indicators) >= 3:
                            print(f"â­ POTENTIALLY RELEVANT - Contains: {', '.join(matching_indicators)}")
                        
                        print("-" * 40)
                else:
                    print(f"âš ï¸ No organic results found for search {i}: '{query}'")
                    all_results.append({
                        'search_number': i,
                        'query_text': query,
                        'result_number': 0,
                        'title': 'No results',
                        'link': 'N/A',
                        'snippet': 'No results found for this query'
                    })
                    
            else:
                print(f"âŒ Error: API request failed with status {response.status_code}: {response.text}")
                failed_searches += 1
                
        except requests.exceptions.Timeout:
            print(f"â° Timeout error during search {i} - continuing with next query")
            failed_searches += 1
        except Exception as e:
            print(f"âŒ Error during search {i}: {str(e)}")
            failed_searches += 1
            
        # Add delay between requests to avoid rate limiting
        if i < len(search_queries):
            print(f"\nâ³ Waiting 2 seconds before next search...")
            time.sleep(2)
        
        print("\n" + "=" * 80)

    # Save comprehensive search results to workspace
    timestamp = datetime.now().strftime("%Y%m%d_%H%M%S")
    results_file = f"workspace/arthur_morris_300_runs_search_results_{timestamp}.json"

    with open(results_file, 'w', encoding='utf-8') as f:
        json.dump({
            'search_timestamp': datetime.now().isoformat(),
            'search_focus': 'Arthur Morris 300+ runs Test innings and Australian captain identification',
            'total_queries': len(search_queries),
            'successful_searches': successful_searches,
            'failed_searches': failed_searches,
            'total_results': len(all_results),
            'queries_executed': search_queries,
            'all_search_results': all_results
        }, f, indent=2, ensure_ascii=False)

    print(f"\n\nğŸ“Š COMPREHENSIVE SEARCH SUMMARY:")
    print(f"Total targeted queries executed: {len(search_queries)}")
    print(f"Successful searches: {successful_searches}")
    print(f"Failed searches: {failed_searches}")
    print(f"Total results collected: {len(all_results)}")
    print(f"Search results saved to: {results_file}")

    # Analyze results for Arthur Morris 300+ run innings
    print(f"\n\nğŸ” ANALYZING RESULTS FOR ARTHUR MORRIS 300+ RUN INNINGS:")
    print(f"=" * 70)

    # Look for results specifically mentioning Arthur Morris and 300+ scores
    morris_results = []
    score_300_results = []
    captain_results = []
    test_match_results = []

    for result in all_results:
        if result['title'] == 'No results':
            continue
            
        title_lower = result['title'].lower()
        snippet_lower = result['snippet'].lower()
        combined = f"{title_lower} {snippet_lower}"
        
        # Categorize results by relevance
        if 'arthur morris' in combined:
            morris_results.append(result)
            
        if any(score in combined for score in ['300', '301', '302', '303', '304', '305']):
            score_300_results.append(result)
            
        if any(term in combined for term in ['captain', 'skipper', 'led by']):
            captain_results.append(result)
            
        if any(term in combined for term in ['test match', 'test cricket', 'test series']):
            test_match_results.append(result)

    print(f"\nğŸ“‹ CATEGORIZED RESULTS:")
    print(f"Results mentioning Arthur Morris: {len(morris_results)}")
    print(f"Results mentioning 300+ scores: {len(score_300_results)}")
    print(f"Results mentioning captains: {len(captain_results)}")
    print(f"Results mentioning Test matches: {len(test_match_results)}")

    # Display most promising results
    print(f"\n\nğŸ¯ MOST PROMISING RESULTS FOR ARTHUR MORRIS 300+ INNINGS:")
    print(f"=" * 60)

    if morris_results:
        print(f"\nğŸ ARTHUR MORRIS-RELATED RESULTS:")
        for i, result in enumerate(morris_results[:4], 1):  # Show top 4
            print(f"\n{i}. {result['title']}")
            print(f"   Query: {result['query_text']}")
            print(f"   Link: {result['link']}")
            print(f"   Snippet: {result['snippet']}")
            print(f"   Search #{result['search_number']}, Result #{result['result_number']}")

    if score_300_results:
        print(f"\n\nğŸ¯ 300+ SCORE RELATED RESULTS:")
        for i, result in enumerate(score_300_results[:3], 1):  # Show top 3
            print(f"\n{i}. {result['title']}")
            print(f"   Query: {result['query_text']}")
            print(f"   Link: {result['link']}")
            print(f"   Snippet: {result['snippet']}")

    # Look for specific evidence of Arthur Morris scoring 300+ runs
    print(f"\n\nğŸ” SCANNING FOR ARTHUR MORRIS 300+ RUN EVIDENCE:")
    print(f"=" * 50)
    
    morris_300_evidence = []
    
    for result in all_results:
        if result['title'] == 'No results':
            continue
            
        combined_text = f"{result['title'].lower()} {result['snippet'].lower()}"
        
        # Look for Arthur Morris AND 300+ score mentions together
        if 'arthur morris' in combined_text and any(score in combined_text for score in ['300', '301', '302', '303', '304', '305']):
            morris_300_evidence.append(result)
            print(f"\nğŸ¯ POTENTIAL EVIDENCE FOUND:")
            print(f"   Title: {result['title']}")
            print(f"   Snippet: {result['snippet'][:200]}...")
            print(f"   Link: {result['link']}")
    
    # Create analysis summary
    analysis_file = 'workspace/arthur_morris_300_runs_analysis_summary.txt'
    with open(analysis_file, 'w', encoding='utf-8') as f:
        f.write("ARTHUR MORRIS 300+ RUNS TEST INNINGS - SEARCH ANALYSIS\n")
        f.write("=" * 60 + "\n\n")
        f.write(f"Analysis Date: {datetime.now().strftime('%Y-%m-%d %H:%M:%S')}\n")
        f.write(f"Total Search Queries: {len(search_queries)}\n")
        f.write(f"Successful Searches: {successful_searches}\n")
        f.write(f"Failed Searches: {failed_searches}\n")
        f.write(f"Total Search Results: {len(all_results)}\n")
        f.write(f"Arthur Morris Results: {len(morris_results)}\n")
        f.write(f"300+ Score Results: {len(score_300_results)}\n")
        f.write(f"Captain-related Results: {len(captain_results)}\n")
        f.write(f"Morris + 300 Evidence: {len(morris_300_evidence)}\n\n")
        
        f.write("SEARCH OBJECTIVES STATUS:\n")
        f.write("-" * 25 + "\n")
        f.write(f"1. Arthur Morris Identification: {len(morris_results)} relevant results\n")
        f.write(f"2. 300+ Run Score Evidence: {len(score_300_results)} relevant results\n")
        f.write(f"3. Test Match Context: {len(test_match_results)} relevant results\n")
        f.write(f"4. Captain Information: {len(captain_results)} relevant results\n")
        f.write(f"5. Combined Morris+300 Evidence: {len(morris_300_evidence)} potential matches\n\n")
        
        if morris_300_evidence:
            f.write("POTENTIAL ARTHUR MORRIS 300+ RUN EVIDENCE:\n")
            f.write("-" * 40 + "\n")
            for i, result in enumerate(morris_300_evidence, 1):
                f.write(f"{i}. {result['title']}\n")
                f.write(f"   Query: {result['query_text']}\n")
                f.write(f"   Link: {result['link']}\n")
                f.write(f"   Snippet: {result['snippet'][:150]}...\n\n")
        
        if morris_results:
            f.write("TOP ARTHUR MORRIS FINDINGS:\n")
            f.write("-" * 25 + "\n")
            for i, result in enumerate(morris_results[:3], 1):
                f.write(f"{i}. {result['title']}\n")
                f.write(f"   Query: {result['query_text']}\n")
                f.write(f"   Link: {result['link']}\n\n")

    print(f"\n\nğŸ“ Search phase complete. Results and analysis saved.")
    print(f"Detailed results saved to: {results_file}")
    print(f"Analysis summary saved to: {analysis_file}")
    
    # Provide preliminary assessment
    print(f"\n\nğŸ¯ PRELIMINARY ASSESSMENT:")
    print(f"=" * 30)
    if successful_searches > 0:
        print(f"âœ… Successfully completed {successful_searches} out of {len(search_queries)} searches")
        print(f"ğŸ“Š Collected {len(all_results)} total search results")
        
        if morris_300_evidence:
            print(f"ğŸ¯ Found {len(morris_300_evidence)} results with potential Arthur Morris 300+ run evidence")
            print(f"ğŸ“‹ These results require detailed analysis to confirm actual 300+ innings")
        else:
            print(f"âš ï¸ No clear evidence found of Arthur Morris scoring 300+ runs in a Test innings")
            print(f"ğŸ“‹ May need to verify if Arthur Morris actually achieved this milestone")
        
        if morris_results:
            print(f"ğŸ Found {len(morris_results)} results about Arthur Morris generally")
            
        print(f"\nğŸ“‹ Next step: Analyze detailed results to confirm if Arthur Morris scored 300+ in Test cricket")
    else:
        print(f"âŒ No successful searches completed - may need to retry with different approach")
    
    print(f"\nğŸ Initial search phase complete - ready for detailed analysis of Arthur Morris batting records!")
```