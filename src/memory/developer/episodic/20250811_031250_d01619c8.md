### Development Step 1: Compare 2022 Sale Prices for 2072 Akaikai Loop and 2017 Komo Mai Drive in Pearl City, Hawaii

**Description**: Search for recent home sales data for the two specific properties in Pearl City, Hawaii: 2072 Akaikai Loop and 2017 Komo Mai Drive. Focus on finding their 2022 sale prices through real estate databases, public records, or property information websites. Extract the exact sale amounts for both properties to determine which sold for more and identify the higher sale price.

**Use Cases**:
- Real estate agent conducting a comparative market analysis (CMA) to advise a client on listing price by retrieving and comparing recent sale prices of similar homes in Pearl City, Hawaii
- Property investor evaluating potential acquisitions by automating the extraction of verified sale prices for target properties to assess investment value
- Mortgage underwriter verifying property sale history and transaction amounts during the loan approval process for homes in specific neighborhoods
- Homeowner preparing for a property tax appeal by gathering official 2022 sale prices of comparable homes to support their case
- Data journalist investigating housing market trends in Hawaii by programmatically collecting and comparing actual sale prices from public records and real estate platforms
- Title company performing due diligence checks by cross-referencing multiple sources to confirm the most recent sale price of a property before closing
- Academic researcher analyzing the impact of economic factors on residential property values by systematically collecting historical sale data for case studies
- Local government analyst monitoring real estate transactions to detect anomalies or trends in property sales for urban planning and policy development

```
import os
import requests
from datetime import datetime
import json

print("=== PEARL CITY HAWAII PROPERTY SALES SEARCH ===")
print("Searching for 2022 sale prices of two specific properties...")
print("Property 1: 2072 Akaikai Loop, Pearl City, Hawaii")
print("Property 2: 2017 Komo Mai Drive, Pearl City, Hawaii")
print("="*60)

# Get SerpAPI key from environment variables
api_key = os.getenv("SERPAPI_API_KEY")

if api_key is None:
    print("Error: Missing API key. Make sure you have SERPAPI_API_KEY in your environment variables.")
    exit()

# Define the two properties to search for
properties = [
    {
        'address': '2072 Akaikai Loop Pearl City Hawaii',
        'short_name': '2072 Akaikai Loop',
        'search_terms': [
            '"2072 Akaikai Loop" Pearl City Hawaii sold 2022 price',
            '2072 Akaikai Loop Pearl City Hawaii real estate sale',
            '"2072 Akaikai Loop" Hawaii property records 2022',
            '2072 Akaikai Loop Pearl City sold price recent'
        ]
    },
    {
        'address': '2017 Komo Mai Drive Pearl City Hawaii', 
        'short_name': '2017 Komo Mai Drive',
        'search_terms': [
            '"2017 Komo Mai Drive" Pearl City Hawaii sold 2022 price',
            '2017 Komo Mai Drive Pearl City Hawaii real estate sale',
            '"2017 Komo Mai Drive" Hawaii property records 2022',
            '2017 Komo Mai Drive Pearl City sold price recent'
        ]
    }
]

# Store all search results
all_results = []
search_timestamp = datetime.now().strftime('%Y%m%d_%H%M%S')

print("\nðŸ” CONDUCTING TARGETED PROPERTY SEARCHES...")
print("="*50)

# Search for each property with multiple query variations
for prop_idx, property_info in enumerate(properties, 1):
    print(f"\nðŸ“ PROPERTY {prop_idx}: {property_info['short_name']}")
    print("-" * 40)
    
    property_results = []
    
    for search_idx, query in enumerate(property_info['search_terms'], 1):
        print(f"\nSearch {search_idx}: {query}")
        
        # Prepare API request parameters
        params = {
            "q": query,
            "api_key": api_key,
            "engine": "google",
            "google_domain": "google.com",
            "safe": "off",
            "num": 10,
            "type": "search"
        }
        
        try:
            # Make API request to SerpAPI
            response = requests.get("https://serpapi.com/search.json", params=params, timeout=30)
            
            if response.status_code == 200:
                results = response.json()
                
                if results.get("organic_results"):
                    print(f"  âœ… Found {len(results['organic_results'])} results")
                    
                    # Process each result
                    for result in results['organic_results']:
                        title = result.get('title', '')
                        snippet = result.get('snippet', '')
                        link = result.get('link', '')
                        
                        # Calculate relevance score based on key indicators
                        relevance_score = 0
                        combined_text = f"{title} {snippet}".lower()
                        
                        # Check for property-specific indicators
                        if property_info['short_name'].lower() in combined_text:
                            relevance_score += 3
                        if 'pearl city' in combined_text:
                            relevance_score += 2
                        if 'hawaii' in combined_text:
                            relevance_score += 1
                        if any(term in combined_text for term in ['sold', 'sale', 'price', 'purchase']):
                            relevance_score += 2
                        if '2022' in combined_text:
                            relevance_score += 3
                        if any(term in combined_text for term in ['zillow', 'realtor', 'redfin', 'mls', 'property']):
                            relevance_score += 2
                        if '$' in combined_text:
                            relevance_score += 2
                        
                        result_data = {
                            'property': property_info['short_name'],
                            'query_text': query,
                            'title': title,
                            'snippet': snippet,
                            'link': link,
                            'relevance_score': relevance_score,
                            'search_timestamp': datetime.now().isoformat()
                        }
                        
                        property_results.append(result_data)
                        all_results.append(result_data)
                        
                        # Show high-relevance results immediately
                        if relevance_score >= 5:
                            print(f"    ðŸŽ¯ HIGH RELEVANCE (Score: {relevance_score})")
                            print(f"    Title: {title}")
                            print(f"    Snippet: {snippet[:200]}{'...' if len(snippet) > 200 else ''}")
                            print(f"    Link: {link}")
                            print()
                        
                else:
                    print(f"  âŒ No results found for this query")
            else:
                print(f"  âŒ API request failed with status {response.status_code}")
                
        except Exception as e:
            print(f"  âŒ Error during search: {str(e)}")
    
    print(f"\nðŸ“Š Property {prop_idx} Summary: {len(property_results)} total results collected")

print(f"\n\nðŸ“ˆ OVERALL SEARCH SUMMARY")
print("="*40)
print(f"Total results collected: {len(all_results)}")
print(f"Search timestamp: {search_timestamp}")

# Analyze and display top results by relevance
high_relevance_results = [r for r in all_results if r['relevance_score'] >= 4]
print(f"High relevance results (score â‰¥ 4): {len(high_relevance_results)}")

# Group results by property
property_1_results = [r for r in all_results if '2072 Akaikai Loop' in r['property']]
property_2_results = [r for r in all_results if '2017 Komo Mai Drive' in r['property']]

print(f"\nðŸ  PROPERTY-SPECIFIC RESULTS:")
print(f"2072 Akaikai Loop: {len(property_1_results)} results")
print(f"2017 Komo Mai Drive: {len(property_2_results)} results")

# Save all results to workspace for detailed analysis
results_data = {
    'search_timestamp': search_timestamp,
    'properties_searched': [prop['address'] for prop in properties],
    'total_queries': sum(len(prop['search_terms']) for prop in properties),
    'total_results': len(all_results),
    'high_relevance_count': len(high_relevance_results),
    'results': all_results
}

results_file = f'workspace/pearl_city_property_search_results_{search_timestamp}.json'
with open(results_file, 'w', encoding='utf-8') as f:
    json.dump(results_data, f, indent=2, ensure_ascii=False)

print(f"\nðŸ’¾ All search results saved to: {results_file}")

# Display top findings for immediate analysis
print(f"\nðŸ” TOP FINDINGS BY RELEVANCE SCORE:")
print("="*50)

top_results = sorted(all_results, key=lambda x: x['relevance_score'], reverse=True)[:10]

for i, result in enumerate(top_results, 1):
    print(f"\n{i}. {result['property']} (Score: {result['relevance_score']})")
    print(f"   Title: {result['title']}")
    print(f"   Snippet: {result['snippet'][:150]}{'...' if len(result['snippet']) > 150 else ''}")
    print(f"   Link: {result['link']}")
    print(f"   Query: {result['query_text']}")

print(f"\nâœ… SEARCH PHASE COMPLETED")
print(f"Next step: Analyze results to extract specific 2022 sale prices")
```