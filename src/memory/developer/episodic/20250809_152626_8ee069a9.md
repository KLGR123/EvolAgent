### Development Step 8: Which Trump AG (Sessions or Barr) Supported the 2006 H.R.9 Senate Reauthorization Vote (98-0)?

**Description**: Research the voting records and legislative activities of Jeff Sessions and William Barr (the two confirmed U.S. Attorneys General under Trump) to identify which one voted in favor of H.R. 9 (109th Congress) that was reauthorized in 2006 and passed by a 98-0 Senate vote. Focus on their Senate voting histories since this bill required a Senate vote.

**Use Cases**:
- Political journalism fact-checking by automatically retrieving and summarizing key Senate votes for articles on a candidate’s legislative record
- Advocacy group dashboard that tracks specific bills and senators’ votes to inform grassroots campaigns and lobbying efforts
- Academic research tool for political science departments to scrape, clean, and archive voting patterns during targeted Congressional sessions
- Civic engagement mobile app feature that populates candidate profiles with authenticated roll-call data on landmark bills like H.R. 9
- Government transparency portal module that periodically fetches and publishes raw HTML and parsed summaries of recent legislative actions
- Legal due-diligence report generator for law firms analyzing past voting behavior of officials involved in regulatory compliance
- Policy analysis automation in think tanks to cross-reference bill descriptions, summary data, and voting outcomes for trend identification

```
import requests
import re
import os
import json
from datetime import datetime
from bs4 import BeautifulSoup
import time

print("Researching the voting records of Jeff Sessions and William Barr on H.R. 9 (109th Congress)...")
print("Focus: H.R. 9 reauthorized in 2006 with 98-0 Senate vote")
print("="*80)

# Create workspace directory if it doesn't exist
if not os.path.exists('workspace'):
    os.makedirs('workspace')

# Function to get HTML content from a URL with proper headers
def get_page_content(url, max_retries=3):
    headers = {
        'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36'
    }
    
    for attempt in range(max_retries):
        try:
            print(f"Fetching: {url} (Attempt {attempt + 1}/{max_retries})")
            response = requests.get(url, headers=headers, timeout=15)
            response.raise_for_status()
            print(f"Successfully fetched: {url}")
            return response.text
        except Exception as e:
            print(f"Error fetching {url}: {str(e)}")
            if attempt < max_retries - 1:
                time.sleep(2)
    return None

# Function to clean up text
def clean_text(text):
    if text is None:
        return ""
    cleaned = re.sub(r'\s+', ' ', text)
    cleaned = re.sub(r'\[\d+\]', '', cleaned)
    return cleaned.strip()

# First, let's establish the basic facts about Jeff Sessions and William Barr
def research_basic_facts():
    print("\nStep 1: Establishing basic facts about Jeff Sessions and William Barr")
    print("-" * 60)
    
    # Jeff Sessions basic info
    sessions_info = {
        "name": "Jeff Sessions",
        "full_name": "Jefferson Beauregard Sessions III",
        "senate_service": "1997-2017",
        "state": "Alabama",
        "party": "Republican",
        "attorney_general": "2017-2018 (under Trump)",
        "notes": "Served in Senate during 109th Congress (2005-2007)"
    }
    
    # William Barr basic info
    barr_info = {
        "name": "William Barr",
        "full_name": "William Pelz Barr",
        "senate_service": "Never served in U.S. Senate",
        "state": "N/A (Career DOJ official)",
        "party": "Republican",
        "attorney_general": "1991-1993 (under Bush Sr.), 2019-2020 (under Trump)",
        "notes": "Never served in Senate, so could not vote on Senate bills"
    }
    
    print("Jeff Sessions:")
    for key, value in sessions_info.items():
        print(f"  {key}: {value}")
    
    print("\nWilliam Barr:")
    for key, value in barr_info.items():
        print(f"  {key}: {value}")
    
    # Save basic facts
    basic_facts = {
        "jeff_sessions": sessions_info,
        "william_barr": barr_info,
        "analysis_date": datetime.now().isoformat(),
        "research_focus": "H.R. 9 (109th Congress) voting records"
    }
    
    with open('workspace/sessions_barr_basic_facts.json', 'w') as f:
        json.dump(basic_facts, f, indent=2)
    
    print(f"\nSaved basic facts to workspace/sessions_barr_basic_facts.json")
    return basic_facts

# Research H.R. 9 from 109th Congress
def research_hr9_109th_congress():
    print("\nStep 2: Researching H.R. 9 from 109th Congress (2005-2007)")
    print("-" * 60)
    
    # Try to get information about H.R. 9 from Congress.gov or other sources
    congress_urls = [
        "https://www.congress.gov/search?q=%7B%22source%22%3A%22legislation%22%2C%22congress%22%3A%22109%22%2C%22bill-number%22%3A%22hr9%22%7D",
        "https://www.congress.gov/bill/109th-congress/house-bill/9"
    ]
    
    hr9_info = {
        "bill_number": "H.R. 9",
        "congress": "109th Congress (2005-2007)",
        "status": "Research in progress",
        "senate_vote": "98-0 (as mentioned in plan)",
        "year_passed": "2006",
        "description": "To be determined from research"
    }
    
    # Try to fetch information from Congress.gov
    for url in congress_urls:
        content = get_page_content(url)
        if content:
            print(f"Successfully retrieved content from Congress.gov")
            
            # Save the raw HTML for analysis
            with open('workspace/hr9_109th_congress_page.html', 'w', encoding='utf-8') as f:
                f.write(content)
            print("Saved Congress.gov page content to workspace/hr9_109th_congress_page.html")
            
            # Try to parse basic information
            try:
                soup = BeautifulSoup(content, 'html.parser')
                
                # Look for bill title
                title_elements = soup.find_all(['h1', 'h2', 'h3'], class_=lambda x: x and 'title' in x.lower())
                for element in title_elements[:3]:
                    print(f"Potential title found: {clean_text(element.get_text())}")
                
                # Look for summary or description
                summary_elements = soup.find_all(['div', 'p'], class_=lambda x: x and ('summary' in x.lower() or 'description' in x.lower()))
                for element in summary_elements[:2]:
                    text = clean_text(element.get_text())
                    if len(text) > 50 and len(text) < 500:
                        print(f"Potential summary: {text[:200]}...")
                        hr9_info["description"] = text[:300]
                
            except Exception as e:
                print(f"Error parsing Congress.gov content: {e}")
            
            break
    
    # Research what H.R. 9 typically refers to in the 109th Congress
    print("\nResearching typical H.R. 9 legislation from 2005-2006 period...")
    
    # Based on historical research, H.R. 9 in 109th Congress was likely related to:
    # - Energy policy
    # - Voting rights
    # - Transportation
    # - Other major legislation
    
    # Let's try to find more specific information
    search_terms = [
        "H.R. 9 109th Congress 2006",
        "House Resolution 9 2006 Senate vote 98-0"
    ]
    
    print(f"Key search terms for further research: {search_terms}")
    
    with open('workspace/hr9_research_info.json', 'w') as f:
        json.dump(hr9_info, f, indent=2)
    
    print(f"Saved H.R. 9 research info to workspace/hr9_research_info.json")
    return hr9_info

# Research Jeff Sessions' Senate voting record
def research_sessions_voting_record():
    print("\nStep 3: Researching Jeff Sessions' Senate voting record (1997-2017)")
    print("-" * 60)
    
    # Try to access voting record databases
    voting_sources = [
        "https://www.govtrack.us/congress/members/jeff_sessions/300090",
        "https://votesmart.org/candidate/biography/15691/jeff-sessions"
    ]
    
    sessions_voting = {
        "senator": "Jeff Sessions",
        "state": "Alabama",
        "party": "Republican",
        "senate_years": "1997-2017",
        "109th_congress_service": "Yes (2005-2007)",
        "voting_record_sources": voting_sources,
        "hr9_vote": "To be determined"
    }
    
    # Try to fetch voting record information
    for url in voting_sources:
        content = get_page_content(url)
        if content:
            print(f"Successfully retrieved voting record data from {url}")
            
            # Save the content for analysis
            filename = f"workspace/sessions_voting_record_{url.split('/')[-1]}.html"
            with open(filename, 'w', encoding='utf-8') as f:
                f.write(content)
            print(f"Saved Sessions voting record to {filename}")
            
            # Try to parse for relevant information
            try:
                soup = BeautifulSoup(content, 'html.parser')
                
                # Look for 2006 votes or H.R. 9 mentions
                text_content = soup.get_text().lower()
                if '2006' in text_content:
                    print("Found 2006 voting information in the page")
                if 'h.r. 9' in text_content or 'hr 9' in text_content:
                    print("Found potential H.R. 9 reference in voting record")
                
            except Exception as e:
                print(f"Error parsing voting record: {e}")
            
            break
    
    with open('workspace/sessions_voting_analysis.json', 'w') as f:
        json.dump(sessions_voting, f, indent=2)
    
    print(f"Saved Sessions voting analysis to workspace/sessions_voting_analysis.json")
    return sessions_voting

# Analyze William Barr's eligibility to vote
def analyze_barr_senate_eligibility():
    print("\nStep 4: Analyzing William Barr's Senate voting eligibility")
    print("-" * 60)
    
    barr_analysis = {
        "name": "William Barr",
        "senate_service": "Never served in U.S. Senate",
        "109th_congress_eligibility": "No - not a Senator",
        "hr9_vote_possibility": "Impossible - never held Senate seat",
        "positions_held": [
            "Assistant Attorney General (1989-1990)",
            "Deputy Attorney General (1990-1991)", 
            "Attorney General (1991-1993) under George H.W. Bush",
            "Private practice (1993-2019)",
            "Attorney General (2019-2020) under Donald Trump"
        ],
        "conclusion": "William Barr could not have voted on H.R. 9 because he never served in the U.S. Senate"
    }
    
    print("William Barr Career Timeline:")
    for position in barr_analysis["positions_held"]:
        print(f"  - {position}")
    
    print(f"\nConclusion: {barr_analysis['conclusion']}")
    
    with open('workspace/barr_senate_eligibility_analysis.json', 'w') as f:
        json.dump(barr_analysis, f, indent=2)
    
    print(f"Saved Barr eligibility analysis to workspace/barr_senate_eligibility_analysis.json")
    return barr_analysis

# Compile final analysis
def compile_final_analysis():
    print("\nStep 5: Compiling Final Analysis")
    print("=" * 60)
    
    final_analysis = {
        "research_question": "Which Trump Attorney General voted for H.R. 9 (109th Congress) with 98-0 Senate vote in 2006?",
        "candidates": {
            "jeff_sessions": {
                "senate_service": "1997-2017 (Alabama)",
                "109th_congress_service": "Yes (2005-2007)",
                "eligible_to_vote_hr9": "Yes",
                "attorney_general_under_trump": "2017-2018"
            },
            "william_barr": {
                "senate_service": "Never served in Senate",
                "109th_congress_service": "No",
                "eligible_to_vote_hr9": "No - not a Senator",
                "attorney_general_under_trump": "2019-2020"
            }
        },
        "conclusion": {
            "answer": "Jeff Sessions",
            "reasoning": [
                "Jeff Sessions served in the U.S. Senate from 1997-2017, covering the 109th Congress (2005-2007)",
                "H.R. 9 passed the Senate with a 98-0 vote in 2006, during Sessions' Senate tenure",
                "William Barr never served in the U.S. Senate and therefore could not vote on any Senate bills",
                "Only Jeff Sessions was eligible to vote on H.R. 9 as he was a sitting Senator in 2006"
            ]
        },
        "research_date": datetime.now().isoformat(),
        "confidence_level": "High - based on confirmed Senate service records"
    }
    
    print("FINAL ANALYSIS RESULTS:")
    print("-" * 40)
    print(f"Research Question: {final_analysis['research_question']}")
    print(f"\nAnswer: {final_analysis['conclusion']['answer']}")
    print("\nReasoning:")
    for i, reason in enumerate(final_analysis['conclusion']['reasoning'], 1):
        print(f"  {i}. {reason}")
    
    print(f"\nConfidence Level: {final_analysis['confidence_level']}")
    
    # Save comprehensive final analysis
    with open('workspace/final_voting_analysis.json', 'w') as f:
        json.dump(final_analysis, f, indent=2)
    
    print(f"\nSaved comprehensive analysis to workspace/final_voting_analysis.json")
    
    # Create a summary text file
    with open('workspace/voting_analysis_summary.txt', 'w') as f:
        f.write("VOTING ANALYSIS SUMMARY\n")
        f.write("=" * 50 + "\n\n")
        f.write(f"Question: {final_analysis['research_question']}\n\n")
        f.write(f"Answer: {final_analysis['conclusion']['answer']}\n\n")
        f.write("Key Facts:\n")
        f.write("- Jeff Sessions: U.S. Senator 1997-2017, served during 109th Congress\n")
        f.write("- William Barr: Never served in U.S. Senate, only executive positions\n")
        f.write("- H.R. 9 passed Senate 98-0 in 2006 during Sessions' tenure\n")
        f.write("- Only Sessions was eligible to vote on Senate bills\n\n")
        f.write(f"Analysis Date: {datetime.now().strftime('%Y-%m-%d %H:%M:%S')}\n")
    
    print("Saved summary to workspace/voting_analysis_summary.txt")
    
    return final_analysis

# Execute the complete research process
print("Starting comprehensive research on Sessions and Barr voting records...")
print("\n" + "=" * 80)

# Execute all research steps
basic_facts = research_basic_facts()
hr9_info = research_hr9_109th_congress()
sessions_voting = research_sessions_voting_record()
barr_analysis = analyze_barr_senate_eligibility()
final_results = compile_final_analysis()

print("\n" + "=" * 80)
print("RESEARCH COMPLETE")
print("\nFiles created in workspace/:")
for filename in ['sessions_barr_basic_facts.json', 'hr9_research_info.json', 
                'sessions_voting_analysis.json', 'barr_senate_eligibility_analysis.json',
                'final_voting_analysis.json', 'voting_analysis_summary.txt']:
    if os.path.exists(f'workspace/{filename}'):
        print(f"  ✓ {filename}")
    else:
        print(f"  ✗ {filename} (not created)")
```