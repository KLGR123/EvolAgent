### Development Step 10: Identify oldest closed numpy.polynomial Regression issue; retrieve its creation, closure, and label-add timestamps

**Description**: Search GitHub for numpy.polynomial issues to identify all closed issues that have the 'Regression' label. Focus on finding the oldest closed issue with this label and determine when the 'Regression' label was added to that specific issue. Use GitHub's issue search functionality with filters for repository 'numpy/numpy', path 'polynomial', status 'closed', and label 'Regression'. Extract the issue creation date, closure date, and label addition timestamp for the oldest matching issue.

**Use Cases**:
- Python library maintainers auditing the numpy.polynomial module’s regression history to enforce SLAs on bug resolution
- DevOps teams integrating regression label detection into CI/CD pipelines to trigger alerts when critical polynomial functions break
- Open source project managers generating automated release notes by extracting timeline data for regression fixes in numpy
- Academic researchers studying bug-fix latency in scientific computing libraries by analyzing label addition and closure timestamps
- Financial compliance officers tracking third-party dependency regressions to maintain audit trails for regulatory reporting
- Software engineering leads comparing time-to-resolution metrics for regression issues across modules to optimize triage workflows
- Continuous integration engineers automating the detection of newly labeled regressions in polynomial code to prevent unstable releases
- Technical writers extracting detailed regression fix timelines to update user guides and troubleshooting documentation

```
import requests
import json
from datetime import datetime
import os

print("=== GITHUB ISSUE TIMELINE ANALYSIS FOR OLDEST POLYNOMIAL REGRESSION ISSUE ===")
print("Objective: Get detailed timeline for Issue #410 to find when 'Regression' label was added")
print("Focus: Analyze all events (labels, comments, status changes) for the oldest issue\n")

# Find workspace directory
workspace_dirs = [d for d in os.listdir('.') if d.startswith('workspace')]
workspace_dir = workspace_dirs[0] if workspace_dirs else 'workspace'
os.makedirs(workspace_dir, exist_ok=True)

# GitHub API configuration
base_url = "https://api.github.com"
repo = "numpy/numpy"
issue_number = 410  # The oldest issue we identified

headers = {
    'Accept': 'application/vnd.github.v3+json',
    'User-Agent': 'Python-GitHub-Timeline-Search'
}

print(f"Using workspace directory: {workspace_dir}")
print(f"Repository: {repo}")
print(f"Target issue: #{issue_number}\n")

# First, get basic issue information to confirm details
print("=== GETTING BASIC ISSUE INFORMATION ===")
issue_url = f"{base_url}/repos/{repo}/issues/{issue_number}"
print(f"Issue URL: {issue_url}")

response = requests.get(issue_url, headers=headers)
print(f"Response status: {response.status_code}")

if response.status_code != 200:
    print(f"Error getting issue details: {response.text}")
    exit()

issue_data = response.json()
print(f"Issue #{issue_data['number']}: {issue_data['title']}")
print(f"Created: {issue_data['created_at']}")
print(f"Closed: {issue_data.get('closed_at', 'Still open')}")
print(f"State: {issue_data['state']}")
print(f"Current labels: {[label['name'] for label in issue_data['labels']]}")
print(f"Body preview: {(issue_data.get('body') or '')[:200]}...")
print()

# Get detailed timeline/events for this issue
print("=== GETTING DETAILED ISSUE TIMELINE/EVENTS ===")
events_url = f"{base_url}/repos/{repo}/issues/{issue_number}/events"
print(f"Events URL: {events_url}")

events_response = requests.get(events_url, headers=headers)
print(f"Events response status: {events_response.status_code}")

if events_response.status_code != 200:
    print(f"Error getting events: {events_response.text}")
    exit()

events_data = events_response.json()
print(f"Total events found: {len(events_data)}\n")

# Analyze each event, focusing on label-related activities
print("=== ANALYZING ALL EVENTS FOR LABEL CHANGES ===")
label_events = []
all_events_summary = []

for i, event in enumerate(events_data, 1):
    event_type = event.get('event', 'unknown')
    created_at = event.get('created_at', 'unknown')
    actor = event.get('actor', {}).get('login', 'unknown') if event.get('actor') else 'system'
    
    print(f"{i}. Event: {event_type}")
    print(f"   Date: {created_at}")
    print(f"   Actor: {actor}")
    
    # Store summary for all events
    event_summary = {
        'index': i,
        'event_type': event_type,
        'created_at': created_at,
        'actor': actor
    }
    
    # Check for label-related events
    if event_type in ['labeled', 'unlabeled']:
        label_name = event.get('label', {}).get('name', 'unknown') if event.get('label') else 'unknown'
        print(f"   Label: {label_name}")
        
        # Check if this is a regression-related label
        is_regression_label = 'regression' in label_name.lower() or 'regress' in label_name.lower()
        
        label_event = {
            'event_type': event_type,
            'label_name': label_name,
            'created_at': created_at,
            'actor': actor,
            'is_regression_label': is_regression_label
        }
        label_events.append(label_event)
        event_summary['label_name'] = label_name
        event_summary['is_regression_label'] = is_regression_label
        
        if is_regression_label:
            print(f"   *** REGRESSION LABEL DETECTED: {label_name} ***")
    
    # Check for other relevant events
    elif event_type == 'closed':
        print(f"   Issue closed")
    elif event_type == 'reopened':
        print(f"   Issue reopened")
    elif event_type == 'assigned':
        assignee = event.get('assignee', {}).get('login', 'unknown') if event.get('assignee') else 'unknown'
        print(f"   Assigned to: {assignee}")
        event_summary['assignee'] = assignee
    elif event_type == 'referenced':
        print(f"   Referenced in commit or other issue")
    
    all_events_summary.append(event_summary)
    print()

print(f"=== LABEL EVENTS SUMMARY ===")
print(f"Total label-related events: {len(label_events)}\n")

if label_events:
    print("All label events (chronological order):")
    for i, event in enumerate(label_events, 1):
        print(f"{i}. {event['event_type'].upper()}: '{event['label_name']}'")
        print(f"   Date: {event['created_at']}")
        print(f"   Actor: {event['actor']}")
        print(f"   Regression-related: {event['is_regression_label']}")
        print()
    
    # Check specifically for regression labels
    regression_label_events = [e for e in label_events if e['is_regression_label']]
    
    if regression_label_events:
        print(f"=== REGRESSION LABEL EVENTS FOUND ===")
        print(f"Total regression label events: {len(regression_label_events)}\n")
        
        for i, event in enumerate(regression_label_events, 1):
            print(f"{i}. {event['event_type'].upper()}: '{event['label_name']}'")
            print(f"   Date: {event['created_at']}")
            print(f"   Actor: {event['actor']}")
            print()
        
        # Find when regression label was first added
        added_events = [e for e in regression_label_events if e['event_type'] == 'labeled']
        if added_events:
            oldest_addition = min(added_events, key=lambda x: x['created_at'])
            print(f"=== OLDEST REGRESSION LABEL ADDITION ===")
            print(f"Label: {oldest_addition['label_name']}")
            print(f"Added on: {oldest_addition['created_at']}")
            print(f"Added by: {oldest_addition['actor']}")
    else:
        print("=== NO REGRESSION LABEL EVENTS FOUND ===")
        print("The issue #410 never had a 'Regression' label applied to it.")
else:
    print("=== NO LABEL EVENTS FOUND ===")
    print("The issue #410 has no recorded label changes in its timeline.")

# Save comprehensive timeline analysis
timeline_data = {
    'analysis_timestamp': datetime.now().isoformat(),
    'repository': repo,
    'issue_number': issue_number,
    'issue_details': {
        'title': issue_data['title'],
        'created_at': issue_data['created_at'],
        'closed_at': issue_data.get('closed_at'),
        'state': issue_data['state'],
        'current_labels': [label['name'] for label in issue_data['labels']],
        'html_url': issue_data['html_url']
    },
    'total_events': len(events_data),
    'total_label_events': len(label_events),
    'all_events_summary': all_events_summary,
    'label_events': label_events,
    'regression_label_events': [e for e in label_events if e['is_regression_label']],
    'has_regression_labels': len([e for e in label_events if e['is_regression_label']]) > 0
}

with open(f'{workspace_dir}/issue_{issue_number}_timeline_analysis.json', 'w') as f:
    json.dump(timeline_data, f, indent=2)

print(f"\nComprehensive timeline analysis saved to: {workspace_dir}/issue_{issue_number}_timeline_analysis.json")

print("\n=== FINAL ANALYSIS SUMMARY ===")
print(f"Issue #{issue_number}: {issue_data['title']}")
print(f"Created: {issue_data['created_at']}")
print(f"Closed: {issue_data.get('closed_at', 'Still open')}")
print(f"Total events in timeline: {len(events_data)}")
print(f"Label-related events: {len(label_events)}")
print(f"Regression label events: {len([e for e in label_events if e['is_regression_label']])}")

if len([e for e in label_events if e['is_regression_label']]) > 0:
    print("\n✅ REGRESSION LABEL FOUND IN TIMELINE")
else:
    print("\n❌ NO REGRESSION LABEL FOUND IN TIMELINE")
    print("This issue never had a 'Regression' label applied during its lifetime.")
```