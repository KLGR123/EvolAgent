### Development Step 2: Comprehensive List of Washington State County Seats and Corresponding Counties

**Description**: Search for and compile a comprehensive list of all county seats in Washington state along with their respective counties. Use authoritative government sources such as the Washington State government website, U.S. Census Bureau resources, or reliable reference materials to ensure accuracy and completeness of the county seat information.

**Use Cases**:
- Public GIS and mapping portal integration for Washington state government, using the county seat list to dynamically populate county office locations and service boundaries on interactive maps
- Real estate investment analytics that correlate housing market trends with proximity to county seats, providing investors targeted demographic and economic insights per county
- Emergency management dispatch automation that references county seat locations and FIPS codes to optimize resource staging, mutual aid coordination, and evacuation routing during natural disasters
- Travel and tourism itinerary builder app that highlights historic and cultural attractions in each Washington county seat, enabling personalized tour planning and local business recommendations
- E-commerce logistics and tax calculation engine that validates customer addresses against county seats, determines correct tax jurisdictions, and streamlines order fulfillment across Washington counties
- Voter registration and election administration system enhancement that auto-assigns residents to the correct county election office based on county seat data, improving ballot distribution accuracy
- Academic GIS and geography curriculum module for universities, teaching students how to scrape, clean, and visualize spatial data by mapping Washington’s county seats with their FIPS identifiers
- Retail site-selection analysis tool for chain expansion, combining demographic metrics with county seat locations to identify optimal store openings in underserved Washington markets

```
import os
import requests
from bs4 import BeautifulSoup
import json
import time
import re

# Ensure workspace directory exists
workspace = 'workspace'
os.makedirs(workspace, exist_ok=True)

# Initialize results list
results = []

print("Step 1: Fetching Washington State county information from Wikipedia...")
wiki_url = 'https://en.wikipedia.org/wiki/List_of_counties_in_Washington'
print(f"Fetching: {wiki_url}")

try:
    response = requests.get(wiki_url, timeout=15)
    response.raise_for_status()
    wiki_html = response.text
    
    # Save the HTML
    wiki_html_path = os.path.join(workspace, 'wiki_wa_counties.html')
    with open(wiki_html_path, 'w', encoding='utf-8') as f:
        f.write(wiki_html)
    print(f"Saved Wikipedia HTML to {wiki_html_path}")
    
    # Parse Wikipedia page
    wiki_soup = BeautifulSoup(wiki_html, 'html.parser')
    
    # Look for the main table with county information
    tables = wiki_soup.find_all('table', class_='wikitable')
    print(f"Found {len(tables)} wikitable(s)")
    
    if tables:
        main_table = tables[0]  # Usually the first table contains the county list
        rows = main_table.find_all('tr')
        print(f"Found {len(rows)} rows in the main table")
        
        # Examine the header to understand the structure
        if rows:
            header_row = rows[0]
            headers = [th.get_text(strip=True) for th in header_row.find_all(['th', 'td'])]
            print(f"Table headers: {headers}")
            print("\nBased on tester feedback, county seat should be in column index 2 (3rd column)")
            
            # Process data rows - FIX: Use cells[2] for county seat instead of cells[1]
            for i, row in enumerate(rows[1:], 1):
                cells = row.find_all(['td', 'th'])
                if len(cells) >= 3:  # Need at least county name, FIPS, and county seat
                    county_name = cells[0].get_text(strip=True)
                    fips_code = cells[1].get_text(strip=True)  # This was being incorrectly used as county seat
                    county_seat = cells[2].get_text(strip=True)  # CORRECTED: This is the actual county seat
                    
                    # Clean up the data - remove citation markers
                    county_name = re.sub(r'\[.*?\]', '', county_name).strip()
                    county_seat = re.sub(r'\[.*?\]', '', county_seat).strip()
                    
                    if county_name and county_seat:
                        results.append({
                            'county': county_name,
                            'county_seat': county_seat,
                            'fips_code': fips_code,
                            'source': 'Wikipedia'
                        })
                        print(f"  Row {i}: {county_name} -> {county_seat} (FIPS: {fips_code})")
                        
except Exception as e:
    print(f"Error fetching Wikipedia data: {e}")

time.sleep(2)

# Try Washington State Association of Counties as additional verification
print("\nStep 2: Attempting to get additional verification from WSAC...")
wsac_url = 'https://www.wsac.org/counties'
print(f"Fetching: {wsac_url}")

try:
    response = requests.get(wsac_url, timeout=15)
    response.raise_for_status()
    wsac_html = response.text
    
    # Save the HTML for potential manual inspection
    wsac_html_path = os.path.join(workspace, 'wsac_counties.html')
    with open(wsac_html_path, 'w', encoding='utf-8') as f:
        f.write(wsac_html)
    print(f"Saved WSAC HTML to {wsac_html_path} for potential manual verification")
    
except Exception as e:
    print(f"Error fetching WSAC data: {e}")

# Display results summary
print(f"\nStep 3: Results Summary")
print(f"Total county seats found: {len(results)}")
print(f"Expected for Washington State: 39 counties")

if results:
    print("\nAll Washington State Counties and County Seats:")
    for i, entry in enumerate(results, 1):
        print(f"  {i:2d}. {entry['county']:20s} -> {entry['county_seat']}")
    
    # Save results to JSON
    output_path = os.path.join(workspace, 'wa_county_seats.json')
    with open(output_path, 'w', encoding='utf-8') as f:
        json.dump(results, f, indent=2)
    print(f"\nSaved {len(results)} county seat records to {output_path}")
    
    # Also create a simple CSV format
    csv_path = os.path.join(workspace, 'wa_county_seats.csv')
    with open(csv_path, 'w', encoding='utf-8') as f:
        f.write('County,County Seat,FIPS Code,Source\n')
        for entry in results:
            f.write(f"\"{entry['county']}\",\"{entry['county_seat']}\",{entry['fips_code']},{entry['source']}\n")
    print(f"Also saved as CSV to {csv_path}")
    
    # Verification check
    if len(results) == 39:
        print("\n✓ SUCCESS: Found exactly 39 counties as expected for Washington State")
    else:
        print(f"\n⚠ WARNING: Found {len(results)} counties, expected 39. May need further verification.")
        
    # Show some sample entries to verify data quality
    print("\nSample entries for quality verification:")
    sample_entries = [results[0], results[len(results)//2], results[-1]] if len(results) >= 3 else results
    for entry in sample_entries:
        print(f"  {entry['county']} County seat: {entry['county_seat']}")
        
else:
    print("No county seat data was successfully extracted. Will need to try alternative approaches.")

print("\nStep 4: Data source verification")
print("Primary source: Wikipedia List of counties in Washington")
print("This is considered a reliable source for basic geographic and administrative information")
print("Data includes official county names, county seats, and FIPS codes for reference")
```