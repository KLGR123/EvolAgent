### Development Step 13: Largest and Smallest WA County Seats by Land Area and Their 2020 Census Populations

**Description**: Identify the largest and smallest county seats by land area from the complete dataset of 39 Washington state county seats with their land area measurements. Then extract the 2020 census population data for these two specific county seats using the official data.census.gov source as specified in the TASK.

**Use Cases**:
- Urban infrastructure planning for Washington counties: automate identification of the largest and smallest county seats by area and overlay 2020 census population to prioritize road maintenance and utility upgrades.
- Emergency services deployment analysis: determine population density extremes in county seats to optimize ambulance and fire station placement in rural versus urban jurisdictions.
- Real estate development feasibility studies: compare land availability and resident counts in the largest county seat for potential subdivision projects versus the smallest seat for infill housing opportunities.
- State legislative district support dashboards: generate automated summaries of land area and population for the most sprawling and most compact county seats to inform boundary-drawing discussions.
- Environmental impact assessment for conservation grants: target low-density, large-area county seats for habitat restoration funding based on combined land area and census data.
- Local tourism marketing campaigns: highlight scenic driving routes in the largest county seat by land area and tailor visitor guides using up-to-date population insights.
- Academic geography research workflows: integrate scraped area measurements with official 2020 census figures to study correlations between county-seat size and demographic trends in Washington state.

```
import os
import json
import requests
import pandas as pd
from bs4 import BeautifulSoup
import time

# First, let's check what files are already available in the workspace
print("Checking workspace directory for existing files...")
workspace_files = os.listdir('workspace') if os.path.exists('workspace') else []
print(f"Files in workspace: {workspace_files}")

# Create workspace directory if it doesn't exist
if not os.path.exists('workspace'):
    os.makedirs('workspace')
    print("Created workspace directory")

# Step 1: First, we need to gather Washington state county seats and their land areas
# Let's start by scraping basic information about Washington state counties
print("\n=== Step 1: Gathering Washington State County Information ===")

# We'll use Wikipedia as a starting point to get the list of Washington counties and their county seats
url = "https://en.wikipedia.org/wiki/List_of_counties_in_Washington"
headers = {
    'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36'
}

print(f"Fetching data from: {url}")
response = requests.get(url, headers=headers)
print(f"Response status code: {response.status_code}")

if response.status_code == 200:
    soup = BeautifulSoup(response.content, 'html.parser')
    
    # Find the table with county information
    tables = soup.find_all('table', class_='wikitable')
    print(f"Found {len(tables)} tables on the page")
    
    county_data = []
    
    # Look for the main counties table
    for table in tables:
        headers_row = table.find('tr')
        if headers_row:
            headers = [th.get_text(strip=True) for th in headers_row.find_all(['th', 'td'])]
            print(f"Table headers: {headers}")
            
            # Check if this looks like the counties table
            if any('county' in header.lower() for header in headers) and any('seat' in header.lower() for header in headers):
                print("Found the counties table!")
                
                rows = table.find_all('tr')[1:]  # Skip header row
                for row in rows:
                    cells = row.find_all(['td', 'th'])
                    if len(cells) >= 3:
                        county_name = cells[0].get_text(strip=True)
                        county_seat = cells[1].get_text(strip=True) if len(cells) > 1 else ''
                        
                        # Try to extract land area if available in the table
                        land_area = ''
                        for cell in cells:
                            text = cell.get_text(strip=True)
                            if 'sq mi' in text or 'square mile' in text:
                                land_area = text
                                break
                        
                        county_data.append({
                            'county': county_name,
                            'county_seat': county_seat,
                            'land_area_raw': land_area
                        })
                        
                        print(f"County: {county_name}, Seat: {county_seat}, Area: {land_area}")
                
                break
    
    print(f"\nCollected data for {len(county_data)} counties")
    
    # Save the initial data
    with open('workspace/wa_counties_initial.json', 'w') as f:
        json.dump(county_data, f, indent=2)
    print("Saved initial county data to workspace/wa_counties_initial.json")
    
else:
    print(f"Failed to fetch data from Wikipedia. Status code: {response.status_code}")
    # We'll create a basic list of Washington counties manually as fallback
    county_data = [
        {'county': 'Adams County', 'county_seat': 'Ritzville', 'land_area_raw': ''},
        {'county': 'Asotin County', 'county_seat': 'Asotin', 'land_area_raw': ''},
        {'county': 'Benton County', 'county_seat': 'Prosser', 'land_area_raw': ''},
        {'county': 'Chelan County', 'county_seat': 'Wenatchee', 'land_area_raw': ''},
        {'county': 'Clallam County', 'county_seat': 'Port Angeles', 'land_area_raw': ''},
        {'county': 'Clark County', 'county_seat': 'Vancouver', 'land_area_raw': ''},
        {'county': 'Columbia County', 'county_seat': 'Dayton', 'land_area_raw': ''},
        {'county': 'Cowlitz County', 'county_seat': 'Kelso', 'land_area_raw': ''},
        {'county': 'Douglas County', 'county_seat': 'Waterville', 'land_area_raw': ''},
        {'county': 'Ferry County', 'county_seat': 'Republic', 'land_area_raw': ''},
        {'county': 'Franklin County', 'county_seat': 'Pasco', 'land_area_raw': ''},
        {'county': 'Garfield County', 'county_seat': 'Pomeroy', 'land_area_raw': ''},
        {'county': 'Grant County', 'county_seat': 'Ephrata', 'land_area_raw': ''},
        {'county': 'Grays Harbor County', 'county_seat': 'Montesano', 'land_area_raw': ''},
        {'county': 'Island County', 'county_seat': 'Coupeville', 'land_area_raw': ''},
        {'county': 'Jefferson County', 'county_seat': 'Port Townsend', 'land_area_raw': ''},
        {'county': 'King County', 'county_seat': 'Seattle', 'land_area_raw': ''},
        {'county': 'Kitsap County', 'county_seat': 'Port Orchard', 'land_area_raw': ''},
        {'county': 'Kittitas County', 'county_seat': 'Ellensburg', 'land_area_raw': ''},
        {'county': 'Klickitat County', 'county_seat': 'Goldendale', 'land_area_raw': ''},
        {'county': 'Lewis County', 'county_seat': 'Chehalis', 'land_area_raw': ''},
        {'county': 'Lincoln County', 'county_seat': 'Davenport', 'land_area_raw': ''},
        {'county': 'Mason County', 'county_seat': 'Shelton', 'land_area_raw': ''},
        {'county': 'Okanogan County', 'county_seat': 'Okanogan', 'land_area_raw': ''},
        {'county': 'Pacific County', 'county_seat': 'South Bend', 'land_area_raw': ''},
        {'county': 'Pend Oreille County', 'county_seat': 'Newport', 'land_area_raw': ''},
        {'county': 'Pierce County', 'county_seat': 'Tacoma', 'land_area_raw': ''},
        {'county': 'San Juan County', 'county_seat': 'Friday Harbor', 'land_area_raw': ''},
        {'county': 'Skagit County', 'county_seat': 'Mount Vernon', 'land_area_raw': ''},
        {'county': 'Skamania County', 'county_seat': 'Stevenson', 'land_area_raw': ''},
        {'county': 'Snohomish County', 'county_seat': 'Everett', 'land_area_raw': ''},
        {'county': 'Spokane County', 'county_seat': 'Spokane', 'land_area_raw': ''},
        {'county': 'Stevens County', 'county_seat': 'Colville', 'land_area_raw': ''},
        {'county': 'Thurston County', 'county_seat': 'Olympia', 'land_area_raw': ''},
        {'county': 'Wahkiakum County', 'county_seat': 'Cathlamet', 'land_area_raw': ''},
        {'county': 'Walla Walla County', 'county_seat': 'Walla Walla', 'land_area_raw': ''},
        {'county': 'Whatcom County', 'county_seat': 'Bellingham', 'land_area_raw': ''},
        {'county': 'Whitman County', 'county_seat': 'Colfax', 'land_area_raw': ''},
        {'county': 'Yakima County', 'county_seat': 'Yakima', 'land_area_raw': ''}
    ]
    
    print(f"Using fallback list of {len(county_data)} Washington counties")
    
    # Save the fallback data
    with open('workspace/wa_counties_initial.json', 'w') as f:
        json.dump(county_data, f, indent=2)
    print("Saved fallback county data to workspace/wa_counties_initial.json")

print(f"\nTotal county seats identified: {len(county_data)}")
print("Next step will be to gather detailed land area information for each county seat city.")
```