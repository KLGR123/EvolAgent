### Development Step 6: Retrieve 2020 Nature.com Chinstrap Penguin Population Estimate and Methodology for 2018 Wikipedia Comparison

**Description**: Search for and access the Nature.com article titled 'global population assessment of the Chinstrap penguin' from 2020. Extract the specific population figure from this study, noting whether it's provided as breeding pairs or individual penguins. Document the exact methodology and population count to enable accurate comparison with the Wikipedia 2018 data.

**Use Cases**:
- Meta-analysis of Chinstrap penguin population trends and methodology comparison for biodiversity researchers
- Conservation planning for Antarctic NGOs using precise 2020 population counts to prioritize colony protection measures
- Environmental policy development teams extracting peer-reviewed census methods and figures to draft marine wildlife regulations
- Data journalism on climate impact leveraging automated retrieval of original 2020 penguin population data for news articles
- Academic thesis support where graduate students parse original study methodology and counts for literature reviews and comparisons with Wikipedia data
- GIS-based habitat modeling incorporating extracted population figures to map Chinstrap penguin distribution under future climate scenarios
- Biodiversity database curation services automating article access and content extraction to populate wildlife population records
- Environmental data dashboard integration for research institutions displaying up-to-date population and methodology details from primary sources

```
import os
import json

print("=== CORRECTING ARTICLE ACCESS - TARGETING CORRECT 2020 STUDY ===\n")

# First, let's inspect the search results file to understand the structure
workspace_dirs = [d for d in os.listdir('.') if d.startswith('workspace')]
if workspace_dirs:
    workspace_dir = workspace_dirs[0]
    print(f"Using workspace directory: {workspace_dir}\n")
else:
    print("No workspace directory found.")
    exit()

# Inspect the search results JSON structure first
search_results_file = os.path.join(workspace_dir, 'nature_chinstrap_search_results.json')
if os.path.exists(search_results_file):
    print("=== INSPECTING SEARCH RESULTS STRUCTURE ===\n")
    
    with open(search_results_file, 'r') as f:
        search_data = json.load(f)
    
    print("Top-level keys in search results:")
    for key, value in search_data.items():
        if isinstance(value, list):
            print(f"  {key}: List with {len(value)} items")
        elif isinstance(value, dict):
            print(f"  {key}: Dictionary with {len(value)} keys")
        else:
            print(f"  {key}: {value}")
    
    # Examine the structure of search results
    if 'all_results' in search_data and search_data['all_results']:
        print(f"\nFirst search result structure:")
        first_result = search_data['all_results'][0]
        for key, value in first_result.items():
            print(f"  {key}: {str(value)[:100]}{'...' if len(str(value)) > 100 else ''}")
    
    print(f"\n=== IDENTIFYING CORRECT TARGET ARTICLE ===\n")
    
    # Find the exact 2020 global population assessment article
    target_article = None
    
    for result in search_data['all_results']:
        title = result.get('title', '').lower()
        url = result.get('link', '')
        
        # Look for the specific 2020 study (not citations of it)
        if ('global population assessment' in title and 
            'chinstrap penguin' in title and
            '2020' in url and  # URL should contain 2020
            's41598-020-76479-3' in url):  # Specific article ID from search results
            
            target_article = result
            print(f"*** FOUND TARGET ARTICLE ***")
            print(f"Title: {result.get('title')}")
            print(f"URL: {result.get('link')}")
            print(f"Snippet: {result.get('snippet')}")
            break
    
    # If not found by exact match, look for the first result which should be the primary study
    if not target_article:
        print("Exact match not found, checking first result...\n")
        first_result = search_data['all_results'][0]
        
        print(f"First result details:")
        print(f"Title: {first_result.get('title')}")
        print(f"URL: {first_result.get('link')}")
        print(f"Snippet: {first_result.get('snippet')}")
        
        # Verify this is the correct 2020 study
        if ('s41598-020-76479-3' in first_result.get('link', '') or 
            'global population assessment' in first_result.get('title', '').lower()):
            target_article = first_result
            print(f"\n*** CONFIRMED: This is the target 2020 study ***")
    
    if target_article:
        print(f"\n=== ACCESSING CORRECT ARTICLE ===\n")
        print(f"Target URL: {target_article['link']}")
        
        import requests
        from bs4 import BeautifulSoup
        
        # Set up headers to mimic browser request
        headers = {
            'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36',
            'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',
            'Accept-Language': 'en-US,en;q=0.5',
            'Accept-Encoding': 'gzip, deflate',
            'Connection': 'keep-alive'
        }
        
        try:
            article_response = requests.get(target_article['link'], headers=headers, timeout=30)
            
            if article_response.status_code == 200:
                print(f"Successfully accessed correct article. Status code: {article_response.status_code}")
                print(f"Content length: {len(article_response.content):,} bytes")
                
                # Save the correct article HTML
                correct_article_file = os.path.join(workspace_dir, 'nature_chinstrap_2020_study.html')
                with open(correct_article_file, 'w', encoding='utf-8') as f:
                    f.write(article_response.text)
                
                print(f"\nCorrect article HTML saved to: {correct_article_file}")
                
                # Parse the article content
                soup = BeautifulSoup(article_response.text, 'html.parser')
                
                # Extract key information
                article_title = soup.find('title')
                if article_title:
                    print(f"\nArticle title: {article_title.get_text().strip()}")
                
                # Look for article content containers
                content_selectors = [
                    'div[data-test="article-content"]',
                    'div.c-article-body',
                    'article',
                    'div.article-item-body',
                    'main'
                ]
                
                article_content = None
                for selector in content_selectors:
                    content_element = soup.select_one(selector)
                    if content_element:
                        article_content = content_element
                        print(f"Found article content using selector: {selector}")
                        break
                
                if article_content:
                    content_text = article_content.get_text()
                    print(f"\nExtracted content length: {len(content_text):,} characters")
                    
                    # Save extracted text for analysis
                    correct_text_file = os.path.join(workspace_dir, 'nature_chinstrap_2020_study_text.txt')
                    with open(correct_text_file, 'w', encoding='utf-8') as f:
                        f.write(content_text)
                    
                    print(f"Correct article text saved to: {correct_text_file}")
                    
                    # Quick verification - look for key terms that should be in the population study
                    verification_terms = ['population', 'breeding pairs', 'census', 'global', 'assessment', 'methodology']
                    found_terms = []
                    
                    for term in verification_terms:
                        if term.lower() in content_text.lower():
                            found_terms.append(term)
                    
                    print(f"\nContent verification - Found key terms: {found_terms}")
                    print(f"Terms found: {len(found_terms)}/{len(verification_terms)}")
                    
                    if len(found_terms) >= 4:
                        print("✓ Article content verified as population study")
                    else:
                        print("⚠ Content verification inconclusive")
                        
                else:
                    print("Could not locate article content with standard selectors")
                    
                    # Try to extract any text content
                    body_text = soup.get_text()
                    if body_text:
                        print(f"Extracted general body text: {len(body_text):,} characters")
                        
                        fallback_text_file = os.path.join(workspace_dir, 'nature_chinstrap_2020_fallback_text.txt')
                        with open(fallback_text_file, 'w', encoding='utf-8') as f:
                            f.write(body_text)
                        print(f"Fallback text saved to: {fallback_text_file}")
                
            else:
                print(f"Failed to access article. Status code: {article_response.status_code}")
                print(f"Response headers: {dict(article_response.headers)}")
                
        except requests.exceptions.RequestException as e:
            print(f"Error accessing article: {e}")
            
    else:
        print("Could not identify the correct target article from search results.")
        print("Available articles in search results:")
        for i, result in enumerate(search_data['all_results'][:3], 1):
            print(f"  {i}. {result.get('title')} - {result.get('link')}")
else:
    print("Search results file not found in workspace.")

print(f"\n=== CORRECTION PHASE COMPLETE ===")
print("Files in workspace:")
for file in os.listdir(workspace_dir):
    file_path = os.path.join(workspace_dir, file)
    file_size = os.path.getsize(file_path)
    print(f"  - {file} ({file_size:,} bytes)")

print(f"\nNext step: Parse the correct 2020 study for population figures and methodology")
```