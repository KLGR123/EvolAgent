### Development Step 1: Surrey Lodge: Victorian founding, temperance hall conversion, 1935 rotating stage, WWII bombing, Burnley move

**Description**: Conduct a comprehensive web search to identify Surrey Lodge in South London and trace its historical development during the Victorian era. Focus on finding information about: (1) the original organization that developed Surrey Lodge, (2) its transformation into a temperance hall, (3) the installation of the UK's first rotating stage in 1935, (4) World War II bomb damage, and (5) the company's relocation to Burnley. Use search terms like 'Surrey Lodge South London Victorian era temperance hall', 'first rotating stage UK 1935 temperance hall', 'Surrey Lodge bomb damage World War II Burnley', and 'Victorian temperance organization Surrey Lodge founder'.

**Use Cases**:
- Heritage conservation research and comprehensive historical data aggregation for Victorian-era building restoration proposals
- Corporate due diligence investigations and facility history tracing for M&A risk assessment in property acquisitions
- Legal evidence reconstruction and timeline mapping for intellectual property and trademark dispute support
- Investigative journalism fact-checking and multimedia content sourcing for feature articles on community landmarks
- Urban planning analysis and wartime destruction mapping for infrastructure redevelopment and heritage preservation
- Genealogical research automation and archival record correlation for constructing detailed family property histories
- Cultural heritage exhibition preparation and archival data compilation for museum showcases on social movements and theatre innovations
- Academic historical research and automated timeline extraction for scholarly publications on Victorian social organizations

```
import os
import requests
from bs4 import BeautifulSoup
import json
import time
from urllib.parse import quote_plus

print('=== COMPREHENSIVE WEB SEARCH FOR SURREY LODGE SOUTH LONDON HISTORY ===')
print('Objective: Trace Surrey Lodge historical development during Victorian era')
print('Focus areas: Original organization, temperance hall, rotating stage 1935, WWII damage, Burnley relocation\n')

# Ensure workspace directory exists
os.makedirs('workspace', exist_ok=True)

# Initialize comprehensive search results storage
search_results = {
    'timestamp': time.strftime('%Y-%m-%d %H:%M:%S'),
    'objective': 'Identify Surrey Lodge South London and trace its Victorian era historical development',
    'focus_areas': [
        'Original organization that developed Surrey Lodge',
        'Transformation into temperance hall', 
        'Installation of UK first rotating stage in 1935',
        'World War II bomb damage',
        'Company relocation to Burnley'
    ],
    'search_queries': [],
    'findings': [],
    'historical_timeline': [],
    'analysis_summary': {}
}

print('TARGET HISTORICAL ELEMENTS:')
for i, area in enumerate(search_results['focus_areas'], 1):
    print(f'  {i}. {area}')

# Define comprehensive search queries targeting different aspects
search_queries = [
    'Surrey Lodge South London Victorian era temperance hall history',
    'Surrey Lodge temperance hall first rotating stage UK 1935',
    'Surrey Lodge South London bomb damage World War II Burnley relocation',
    'Victorian temperance organization Surrey Lodge founder South London',
    '"Surrey Lodge" temperance hall rotating stage 1935 theatre',
    'Surrey Lodge South London historical development Victorian temperance movement',
    '"first rotating stage" UK 1935 temperance hall Surrey Lodge',
    'Surrey Lodge bomb damage WWII company moved Burnley Lancashire',
    'Victorian temperance hall Surrey Lodge South London organization founder',
    'Surrey Lodge theatre rotating stage 1935 temperance movement history'
]

print(f'\nExecuting {len(search_queries)} targeted searches:')
for i, query in enumerate(search_queries, 1):
    print(f'  {i}. {query}')

# Headers for web requests
headers = {
    'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36',
    'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8',
    'Accept-Language': 'en-US,en;q=0.9',
    'Connection': 'keep-alive'
}

print('\n=== PHASE 1: SYSTEMATIC SEARCH EXECUTION ===')
print('=' * 80)

for i, query in enumerate(search_queries, 1):
    print(f'\nSearch {i}/{len(search_queries)}: {query}')
    print('-' * 70)
    
    try:
        # Construct Google search URL
        google_url = f'https://www.google.com/search?q={quote_plus(query)}'
        print(f'URL: {google_url}')
        
        response = requests.get(google_url, headers=headers, timeout=20)
        print(f'Status: {response.status_code}')
        
        if response.status_code == 200:
            # Save HTML for reference
            filename = f'surrey_lodge_search_{i}_{query[:40].replace(" ", "_").replace('"', "").replace(":", "")}.html'
            filepath = os.path.join('workspace', filename)
            
            with open(filepath, 'w', encoding='utf-8') as f:
                f.write(response.text)
            
            print(f'Saved: {filepath}')
            
            # Parse results for analysis
            soup = BeautifulSoup(response.text, 'html.parser')
            
            # Extract text content for analysis
            page_text = soup.get_text().lower()
            
            # Define key terms with weights for relevance scoring
            key_terms = {
                'surrey lodge': 10,
                'south london': 8,
                'temperance': 8,
                'temperance hall': 10,
                'victorian': 6,
                'rotating stage': 10,
                '1935': 8,
                'first rotating stage': 12,
                'bomb damage': 8,
                'world war': 6,
                'wwii': 6,
                'burnley': 8,
                'relocation': 6,
                'moved to burnley': 10,
                'theatre': 5,
                'organization': 5,
                'founder': 6,
                'developed': 4,
                'transformation': 5,
                'installation': 5,
                'company': 4
            }
            
            found_terms = []
            relevance_score = 0
            
            for term, weight in key_terms.items():
                if term in page_text:
                    found_terms.append(term)
                    relevance_score += weight
            
            print(f'Relevance score: {relevance_score}')
            print(f'Found terms: {", ".join(found_terms[:8])}')
            
            # Extract specific historical information
            historical_indicators = []
            
            # Look for Surrey Lodge mentions
            if 'surrey lodge' in page_text:
                historical_indicators.append('Surrey Lodge confirmed')
                print('ðŸŽ¯ SURREY LODGE CONFIRMED!')
            
            # Look for temperance hall references
            if 'temperance hall' in page_text or ('temperance' in page_text and 'hall' in page_text):
                historical_indicators.append('Temperance hall connection found')
                print('ðŸ›ï¸ TEMPERANCE HALL CONNECTION FOUND!')
            
            # Look for rotating stage references
            if 'rotating stage' in page_text:
                historical_indicators.append('Rotating stage reference found')
                print('ðŸŽ­ ROTATING STAGE REFERENCE FOUND!')
                
                if '1935' in page_text:
                    historical_indicators.append('1935 rotating stage date confirmed')
                    print('ðŸ“… 1935 DATE CONFIRMED!')
            
            # Look for WWII/bomb damage
            if any(term in page_text for term in ['bomb damage', 'bombed', 'war damage', 'blitz']):
                historical_indicators.append('WWII damage reference found')
                print('ðŸ’¥ WWII DAMAGE REFERENCE FOUND!')
            
            # Look for Burnley connection
            if 'burnley' in page_text:
                historical_indicators.append('Burnley connection found')
                print('ðŸ­ BURNLEY CONNECTION FOUND!')
            
            # Extract text snippets for context
            text_snippets = []
            sentences = page_text.split('.')
            
            for sentence in sentences:
                if 'surrey lodge' in sentence and len(sentence.strip()) > 20:
                    text_snippets.append(sentence.strip()[:300])
                elif any(term in sentence for term in ['temperance hall', 'rotating stage', 'burnley']) and len(sentence.strip()) > 20:
                    text_snippets.append(sentence.strip()[:300])
            
            if text_snippets:
                print('Key text snippets found:')
                for j, snippet in enumerate(text_snippets[:2], 1):
                    print(f'  {j}. {snippet[:200]}...')
            
            # Store finding
            finding = {
                'query': query,
                'search_number': i,
                'relevance_score': relevance_score,
                'found_terms': found_terms,
                'historical_indicators': historical_indicators,
                'text_snippets': text_snippets[:5],
                'html_file': filepath
            }
            
            search_results['findings'].append(finding)
            search_results['search_queries'].append(query)
            
            # If high relevance, extract more detailed information
            if relevance_score >= 20 or len(historical_indicators) >= 3:
                print('ðŸ“š HIGH RELEVANCE - Extracting detailed information...')
                
                # Look for dates and timeline information
                date_patterns = ['1935', '193[0-9]', '19[0-4][0-9]', 'victorian', 'world war', 'wwii']
                timeline_info = []
                
                for sentence in sentences:
                    if any(pattern.replace('[0-9]', '') in sentence for pattern in date_patterns):
                        if len(sentence.strip()) > 15 and len(sentence.strip()) < 400:
                            timeline_info.append(sentence.strip())
                
                finding['timeline_information'] = timeline_info[:3]
                
                if timeline_info:
                    print('Timeline information found:')
                    for info in timeline_info[:2]:
                        print(f'  â€¢ {info[:150]}...')
        
        else:
            print(f'Failed with status {response.status_code}')
    
    except Exception as e:
        print(f'Error: {str(e)}')
    
    time.sleep(3)  # Rate limiting

print('\n' + '=' * 80)
print('PHASE 2: ANALYZING SEARCH RESULTS FOR HISTORICAL TIMELINE')
print('=' * 80)

total_findings = len(search_results['findings'])
print(f'Total search results: {total_findings}')

if search_results['findings']:
    # Sort by relevance score
    search_results['findings'].sort(key=lambda x: x['relevance_score'], reverse=True)
    
    print('\nðŸ“Š RELEVANCE ANALYSIS:')
    print('-' * 40)
    
    high_relevance = [f for f in search_results['findings'] if f['relevance_score'] >= 20]
    moderate_relevance = [f for f in search_results['findings'] if 10 <= f['relevance_score'] < 20]
    
    print(f'High relevance results (20+ points): {len(high_relevance)}')
    print(f'Moderate relevance results (10-19 points): {len(moderate_relevance)}')
    
    if high_relevance:
        print('\nðŸŽ¯ HIGH RELEVANCE FINDINGS:')
        for i, finding in enumerate(high_relevance, 1):
            print(f'\n{i}. Query: {finding["query"]}')
            print(f'   Score: {finding["relevance_score"]}')
            print(f'   Terms: {", ".join(finding["found_terms"][:6])}')
            print(f'   Historical indicators: {", ".join(finding["historical_indicators"])}')
            if finding.get('timeline_information'):
                print(f'   Timeline info: {finding["timeline_information"][0][:100]}...')
    
    # Compile all historical indicators
    all_indicators = []
    for finding in search_results['findings']:
        all_indicators.extend(finding['historical_indicators'])
    
    from collections import Counter
    indicator_counts = Counter(all_indicators)
    
    print('\nðŸ“ˆ HISTORICAL EVIDENCE FREQUENCY:')
    print('-' * 40)
    for indicator, count in indicator_counts.most_common():
        print(f'  â€¢ {indicator}: {count} mentions')
    
    # Analyze evidence strength for each focus area
    evidence_analysis = {
        'surrey_lodge_identified': any('Surrey Lodge confirmed' in f['historical_indicators'] for f in search_results['findings']),
        'temperance_hall_connection': any('Temperance hall connection' in f['historical_indicators'] for f in search_results['findings']),
        'rotating_stage_1935': any('Rotating stage reference' in f['historical_indicators'] and '1935' in str(f) for f in search_results['findings']),
        'wwii_damage_confirmed': any('WWII damage reference' in f['historical_indicators'] for f in search_results['findings']),
        'burnley_relocation': any('Burnley connection' in f['historical_indicators'] for f in search_results['findings'])
    }
    
    print('\nðŸ” FOCUS AREA EVIDENCE ANALYSIS:')
    print('-' * 45)
    for area, confirmed in evidence_analysis.items():
        status = 'âœ…' if confirmed else 'âŒ'
        print(f'{status} {area.replace("_", " ").title()}: {confirmed}')
    
    search_results['analysis_summary']['evidence_analysis'] = evidence_analysis
    
    # Calculate overall research success
    confirmed_count = sum(evidence_analysis.values())
    success_percentage = (confirmed_count / len(evidence_analysis)) * 100
    
    print(f'\nðŸ“ˆ RESEARCH SUCCESS RATE: {success_percentage:.1f}% ({confirmed_count}/{len(evidence_analysis)} areas confirmed)')
    search_results['analysis_summary']['success_percentage'] = success_percentage

else:
    print('âŒ No search results collected')

# Compile timeline information from all findings
print('\n' + '=' * 80)
print('PHASE 3: COMPILING HISTORICAL TIMELINE')
print('=' * 80)

all_timeline_info = []
for finding in search_results['findings']:
    if finding.get('timeline_information'):
        all_timeline_info.extend(finding['timeline_information'])
    if finding.get('text_snippets'):
        all_timeline_info.extend(finding['text_snippets'])

if all_timeline_info:
    print(f'Collected {len(all_timeline_info)} timeline references:')
    
    # Remove duplicates and sort by relevance
    unique_timeline = list(set(all_timeline_info))
    
    for i, info in enumerate(unique_timeline[:8], 1):
        print(f'\n{i}. {info[:250]}...')
    
    search_results['historical_timeline'] = unique_timeline[:10]
else:
    print('âŒ No timeline information extracted')

# Save comprehensive results
results_file = os.path.join('workspace', 'surrey_lodge_comprehensive_search_results.json')
with open(results_file, 'w', encoding='utf-8') as f:
    json.dump(search_results, f, indent=2, ensure_ascii=False)

print(f'\nðŸ’¾ COMPREHENSIVE RESULTS SAVED TO: {results_file}')

# Create summary report
summary_content = f'''SURREY LODGE SOUTH LONDON HISTORICAL RESEARCH
COMPREHENSIVE SEARCH SUMMARY
Generated: {search_results["timestamp"]}

RESEARCH OBJECTIVE:
Trace Surrey Lodge historical development during Victorian era focusing on:
'''

for area in search_results['focus_areas']:
    summary_content += f'â€¢ {area}\n'

summary_content += f'''
SEARCH EXECUTION:
â€¢ Queries executed: {len(search_results["search_queries"])}
â€¢ Results collected: {len(search_results["findings"])}
â€¢ HTML files saved: {len([f for f in search_results["findings"] if f.get("html_file")])}

EVIDENCE ANALYSIS:
'''

if search_results.get('analysis_summary', {}).get('evidence_analysis'):
    for area, confirmed in search_results['analysis_summary']['evidence_analysis'].items():
        status = 'CONFIRMED' if confirmed else 'NOT FOUND'
        summary_content += f'â€¢ {area.replace("_", " ").title()}: {status}\n'
    
    summary_content += f'\nOVERALL SUCCESS RATE: {search_results["analysis_summary"]["success_percentage"]:.1f}%\n'

summary_content += f'''
HISTORICAL TIMELINE REFERENCES:
'''

if search_results.get('historical_timeline'):
    for i, info in enumerate(search_results['historical_timeline'][:5], 1):
        summary_content += f'{i}. {info[:200]}...\n\n'

summary_content += f'''
FILES GENERATED:
â€¢ surrey_lodge_comprehensive_search_results.json - Complete search data
â€¢ surrey_lodge_research_summary.txt - This summary report
â€¢ Multiple HTML search result files for detailed analysis

NEXT STEPS:
1. Review high-relevance HTML files for detailed historical information
2. Cross-reference findings across multiple sources
3. Verify specific dates and organizational details
4. Research Victorian temperance movement organizations
5. Investigate theatre history archives for rotating stage information
'''

# Save summary report
summary_file = os.path.join('workspace', 'surrey_lodge_research_summary.txt')
with open(summary_file, 'w', encoding='utf-8') as f:
    f.write(summary_content)

print(f'ðŸ“‹ SUMMARY REPORT SAVED TO: {summary_file}')

print('\n' + '=' * 90)
print('SURREY LODGE HISTORICAL RESEARCH - SEARCH PHASE COMPLETE')
print('=' * 90)

if search_results.get('analysis_summary', {}).get('success_percentage', 0) >= 60:
    print('âœ… RESEARCH SUCCESSFUL - Multiple historical elements confirmed')
else:
    print('âš ï¸ PARTIAL SUCCESS - Some historical elements identified')

print('\nðŸ“Š FINAL STATISTICS:')
print(f'   â€¢ Search queries executed: {len(search_results["search_queries"])}')
print(f'   â€¢ Results with findings: {len([f for f in search_results["findings"] if f["relevance_score"] > 0])}')
print(f'   â€¢ High relevance results: {len([f for f in search_results["findings"] if f["relevance_score"] >= 20])}')
print(f'   â€¢ Historical indicators found: {len(set([ind for f in search_results["findings"] for ind in f["historical_indicators"]]))}')
print(f'   â€¢ Timeline references collected: {len(search_results.get("historical_timeline", []))}')

print('\nðŸŽ¯ KEY ACHIEVEMENTS:')
if search_results.get('analysis_summary', {}).get('evidence_analysis'):
    confirmed_areas = [area.replace('_', ' ').title() for area, confirmed in search_results['analysis_summary']['evidence_analysis'].items() if confirmed]
    if confirmed_areas:
        for area in confirmed_areas:
            print(f'   âœ… {area}')
    else:
        print('   â€¢ Comprehensive search framework established')
        print('   â€¢ Multiple data sources collected for analysis')

print('\nðŸ“‹ NEXT PHASE: Detailed analysis of collected HTML files and timeline compilation')
print('=== SURREY LODGE COMPREHENSIVE WEB SEARCH COMPLETE ===')
```