### Development Step 8: Identify South African Politician-IFP Agreement Forming Reform Party, Federal System, Rights and Ambassador to France

**Description**: Conduct a comprehensive web search to identify the agreement between a South African political figure and the leader of the Inkatha Freedom Party that led to the formation of the Reform Party and proposed a federal system and bill of rights. Focus on finding information about this specific political agreement, the parties involved, and identify who later served as South African ambassador to France. Search for keywords including 'Inkatha Freedom Party agreement Reform Party', 'South Africa federal system bill of rights agreement', 'South African ambassador France Reform Party', and 'IFP leader political agreement federal system'.

**Use Cases**:
- Political history researcher uses the script to parse archived JSON search results of South African news outlets and identify coalition pacts and human rights proposals for a doctoral thesis on the Mahlabatini Declaration.
- Diplomacy analysts in a foreign affairs ministry automate extraction of ambassador appointment information from web-scraped datasets to update their diplomatic personnel database and verify postings in France.
- News agency data journalists monitor real-time mentions of ‘federal system’ and ‘bill of rights’ in party manifestos using the pipeline to quickly publish analysis on emerging constitutional debates.
- Constitutional law firm legal analysts systematically scan party agreement documents for key terms like ‘federal’, ‘bill of rights’, and ‘agreement’ to prepare a comparative study advising clients on devolution reforms.
- Human rights NGO researchers consolidate historical commitments to rights protections by extracting and summarizing relevant sections from Inkatha Freedom Party and Reform Party agreements across multiple online archives.
- University political science courses integrate the code into assignments that teach students automated content analysis on JSON-based web archives of political agreements and ambassadorial appointments.
- Market intelligence teams adapt the pipeline to extract and analyze structured mentions of strategic alliances and compliance clauses from corporate partnership announcements and regulatory filings.

```
import json
import os
from datetime import datetime

print("Analyzing comprehensive search results to identify the specific South African political agreement...")

# First, let's inspect the structure of our search results files
results_file = "workspace/ifp_agreement_search_results.json"
findings_file = "workspace/ifp_agreement_findings.json"

print("\n=== INSPECTING SEARCH RESULTS FILE STRUCTURE ===")
if os.path.exists(results_file):
    with open(results_file, 'r') as f:
        results_data = json.load(f)
    
    print(f"Search results file contains {len(results_data)} entries")
    print("\nTop-level keys in results data:")
    for key in list(results_data.keys())[:5]:
        print(f"  - {key}")
    
    # Inspect structure of first entry
    if results_data:
        first_key = list(results_data.keys())[0]
        first_entry = results_data[first_key]
        print(f"\nStructure of first entry ('{first_key}'):")
        for key, value in first_entry.items():
            if isinstance(value, list):
                print(f"  - {key}: list with {len(value)} items")
            elif isinstance(value, str):
                print(f"  - {key}: string ({len(value)} chars)")
            else:
                print(f"  - {key}: {type(value).__name__}")
else:
    print(f"Results file not found: {results_file}")

print("\n=== INSPECTING FINDINGS FILE STRUCTURE ===")
if os.path.exists(findings_file):
    with open(findings_file, 'r') as f:
        findings_data = json.load(f)
    
    print(f"Findings file structure:")
    for key, value in findings_data.items():
        if isinstance(value, list):
            print(f"  - {key}: list with {len(value)} items")
        elif isinstance(value, dict):
            print(f"  - {key}: dict with {len(value)} keys")
        elif isinstance(value, str):
            print(f"  - {key}: string")
        else:
            print(f"  - {key}: {type(value).__name__}")
else:
    print(f"Findings file not found: {findings_file}")

print("\n=== ANALYZING REFORM PARTY MENTIONS FOR SPECIFIC AGREEMENT ===")

# Now let's analyze the Reform Party mentions to find the specific agreement
if os.path.exists(findings_file):
    reform_party_mentions = findings_data.get('reform_party_mentions', [])
    print(f"Found {len(reform_party_mentions)} Reform Party mentions to analyze")
    
    # Look for mentions that include key terms about the agreement
    relevant_mentions = []
    agreement_indicators = ['federal', 'bill of rights', 'agreement', 'accord', 'pact', 'alliance', 'coalition']
    
    for i, mention in enumerate(reform_party_mentions):
        section_text = mention['section'].lower()
        
        # Check if this mention contains agreement-related terms
        found_indicators = [indicator for indicator in agreement_indicators if indicator in section_text]
        
        if found_indicators:
            relevant_mentions.append({
                'index': i,
                'source': mention['source'],
                'indicators': found_indicators,
                'section': mention['section']
            })
    
    print(f"\nFound {len(relevant_mentions)} Reform Party mentions with agreement indicators:")
    
    for mention in relevant_mentions[:5]:  # Show top 5
        print(f"\n--- Mention from {mention['source']} ---")
        print(f"Indicators found: {', '.join(mention['indicators'])}")
        print(f"Text excerpt: {mention['section'][:800]}...")
        print("-" * 80)

print("\n=== ANALYZING IFP POLITICAL AGREEMENTS ===")

if os.path.exists(findings_file):
    ifp_agreements = findings_data.get('ifp_political_agreements', [])
    print(f"Found {len(ifp_agreements)} IFP political agreements to analyze")
    
    # Look for agreements that mention Reform Party, federal system, or bill of rights
    key_terms = ['reform party', 'federal', 'bill of rights', 'roelf meyer', 'national party']
    
    relevant_agreements = []
    
    for i, agreement in enumerate(ifp_agreements):
        section_text = agreement['section'].lower()
        
        found_terms = [term for term in key_terms if term in section_text]
        
        if found_terms:
            relevant_agreements.append({
                'index': i,
                'source': agreement['source'],
                'terms': found_terms,
                'section': agreement['section']
            })
    
    print(f"\nFound {len(relevant_agreements)} IFP agreements with relevant terms:")
    
    for agreement in relevant_agreements:
        print(f"\n--- Agreement from {agreement['source']} ---")
        print(f"Relevant terms: {', '.join(agreement['terms'])}")
        print(f"Text excerpt: {agreement['section'][:800]}...")
        print("-" * 80)

print("\n=== SEARCHING FOR SPECIFIC NAMES AND AMBASSADOR INFORMATION ===")

# Let's search through all relevant sections for specific names that might be ambassadors
if os.path.exists(results_file):
    print("Searching all content for potential ambassador names...")
    
    # Common South African political figures who might have been ambassadors
    potential_names = [
        'roelf meyer', 'harry schwarz', 'pik botha', 'gerrit viljoen', 
        'leon wessels', 'kobie coetsee', 'fanie van der merwe',
        'tertius delport', 'dawie de villiers', 'stoffel van der merwe'
    ]
    
    ambassador_candidates = []
    
    for page_name, page_data in results_data.items():
        if 'relevant_sections' in page_data:
            for section in page_data['relevant_sections']:
                section_text = section['section'].lower()
                
                # Look for names + ambassador/france
                for name in potential_names:
                    if name in section_text and ('ambassador' in section_text or 'france' in section_text):
                        ambassador_candidates.append({
                            'name': name,
                            'source': page_name,
                            'section': section['section']
                        })
    
    print(f"Found {len(ambassador_candidates)} potential ambassador references:")
    for candidate in ambassador_candidates:
        print(f"\n--- {candidate['name'].title()} from {candidate['source']} ---")
        print(f"{candidate['section'][:600]}...")

print("\n=== SEARCHING FOR MAHLABATINI DECLARATION ===")

# The Mahlabatini Declaration was mentioned in our results - let's analyze it
if os.path.exists(results_file):
    mahlabatini_mentions = []
    
    for page_name, page_data in results_data.items():
        if 'relevant_sections' in page_data:
            for section in page_data['relevant_sections']:
                if 'mahlabatini' in section['section'].lower():
                    mahlabatini_mentions.append({
                        'source': page_name,
                        'section': section['section']
                    })
    
    print(f"Found {len(mahlabatini_mentions)} Mahlabatini Declaration mentions:")
    for mention in mahlabatini_mentions:
        print(f"\n--- From {mention['source']} ---")
        print(f"{mention['section'][:800]}...")
        print("-" * 80)

print("\n=== SUMMARY OF KEY FINDINGS ===")
print("Based on the comprehensive search, here are the key findings:")
print("\n1. REFORM PARTY: Multiple mentions found across sources")
print("2. IFP AGREEMENTS: Several political agreements identified")
print("3. FEDERAL SYSTEM + BILL OF RIGHTS: References found, particularly in Mahlabatini Declaration")
print("4. AMBASSADOR TO FRANCE: No direct references found in current search")
print("\nThe Mahlabatini Declaration appears to be a key agreement involving:")
print("- Mangosuthu Buthelezi (IFP leader)")
print("- Harry Schwarz (likely the South African political figure)")
print("- Federal system and bill of rights proposals")
print("\nNext step: Research Harry Schwarz specifically to determine if he served as ambassador to France")

# Save analysis summary
analysis_summary = {
    'analysis_date': datetime.now().isoformat(),
    'key_findings': {
        'reform_party_mentions': len(reform_party_mentions) if 'reform_party_mentions' in locals() else 0,
        'ifp_agreements': len(ifp_agreements) if 'ifp_agreements' in locals() else 0,
        'relevant_agreements': len(relevant_agreements) if 'relevant_agreements' in locals() else 0,
        'ambassador_candidates': len(ambassador_candidates) if 'ambassador_candidates' in locals() else 0,
        'mahlabatini_mentions': len(mahlabatini_mentions) if 'mahlabatini_mentions' in locals() else 0
    },
    'primary_suspects': {
        'agreement': 'Mahlabatini Declaration of Faith',
        'ifp_leader': 'Mangosuthu Buthelezi',
        'other_party': 'Harry Schwarz',
        'potential_ambassador': 'Harry Schwarz (needs verification)'
    }
}

analysis_file = "workspace/agreement_analysis_summary.json"
with open(analysis_file, 'w') as f:
    json.dump(analysis_summary, f, indent=2)

print(f"\nAnalysis summary saved to {analysis_file}")
```