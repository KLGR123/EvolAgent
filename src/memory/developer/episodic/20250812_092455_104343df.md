### Development Step 8: Identify organization launching S√£o Francisco Basin environmental education plan and its Sobradinho Dam advocate

**Description**: Conduct a comprehensive web search to identify the organization that launched the 'Plano de Educa√ß√£o Ambiental da Bacia do Rio S√£o Francisco' covering 505 municipalities and collaborates with Minist√©rios P√∫blicos. Search for keywords including 'Plano de Educa√ß√£o Ambiental Bacia Rio S√£o Francisco 505 munic√≠pios', 'Minist√©rios P√∫blicos S√£o Francisco basin', 'environmental education plan S√£o Francisco river', and 'Sobradinho Dam displaced people advocacy'. Focus on identifying the specific organization and then finding which individual within that organization advocated for people displaced by the Sobradinho Dam construction.

**Use Cases**:
- Government environmental compliance auditing by state agencies to automatically verify which public ministries and basin committees collaborated on the S√£o Francisco River education plan across 505 municipalities
- Environmental NGO due-diligence research to pinpoint the lead organization and key advocates working on Sobradinho Dam displacement cases before launching advocacy campaigns
- Academic policy analysis for mapping multi-stakeholder involvement in large-scale river basin education initiatives and quantifying municipal coverage and collaboration patterns
- Investigative journalism workflows to uncover the responsible committee behind the Plano de Educa√ß√£o Ambiental da Bacia do Rio S√£o Francisco and the individual who championed Sobradinho Dam-displaced communities
- Legal case preparation by public defenders to identify organizational actors and legal advocates linked to Sobradinho Dam resettlement disputes for targeted litigation strategy
- Data engineering automation to build a recurring pipeline that scrapes search results, extracts stakeholder names, and generates structured JSON reports for environmental project tracking
- Project management reporting for inter-agency teams coordinating environmental education programs, using automated search analysis to maintain an up-to-date log of partners and key contributors

```
import json
import os

print("Analyzing S√£o Francisco environmental education plan search results...")

# First, let's inspect the workspace to see what files we have
print("\n=== INSPECTING WORKSPACE FILES ===")
if os.path.exists('workspace'):
    workspace_files = os.listdir('workspace')
    print(f"Found {len(workspace_files)} files in workspace:")
    for file in workspace_files:
        print(f"  - {file}")
else:
    print("No workspace directory found")

# Look for search results files in different possible workspace directories
possible_workspaces = ['workspace', 'workspace_webshaper_65', 'workspace_webshaper_68']
search_results_file = None

for workspace_dir in possible_workspaces:
    if os.path.exists(workspace_dir):
        print(f"\nChecking {workspace_dir}:")
        files = os.listdir(workspace_dir)
        for file in files:
            print(f"  - {file}")
            if 'sao_francisco_search_results' in file:
                search_results_file = os.path.join(workspace_dir, file)
                print(f"  ‚úì Found search results file: {search_results_file}")

# If we found the search results file, inspect and analyze it
if search_results_file and os.path.exists(search_results_file):
    print(f"\n=== LOADING SEARCH RESULTS FROM {search_results_file} ===")
    
    with open(search_results_file, 'r', encoding='utf-8') as f:
        search_data = json.load(f)
    
    print(f"Search data structure:")
    for key, value in search_data.items():
        if isinstance(value, dict):
            print(f"  - {key}: dict with keys: {list(value.keys())}")
            if 'results' in value and isinstance(value['results'], list):
                print(f"    - results: list with {len(value['results'])} items")
                if value['results']:
                    print(f"    - sample result keys: {list(value['results'][0].keys())}")
        else:
            print(f"  - {key}: {type(value).__name__}")
    
    print(f"\n=== ANALYZING SEARCH RESULTS FOR ORGANIZATIONS AND INDIVIDUALS ===")
    
    # Extract and analyze all results
    organizations_found = set()
    key_findings = []
    potential_individuals = []
    sobradinho_references = []
    ministry_collaborations = []
    
    # Keywords for organization identification
    org_keywords = ['chesf', 'codevasf', 'ibama', 'ana', 'cbhsf', 'comit√™', 'minist√©rio p√∫blico', 'funda√ß√£o', 'instituto']
    individual_indicators = ['dr.', 'professor', 'coordenador', 'diretor', 'presidente', 'advogado']
    
    total_results = 0
    
    for query_key, query_data in search_data.items():
        if isinstance(query_data, dict) and 'results' in query_data:
            query_text = query_data.get('query', 'Unknown query')
            results = query_data.get('results', [])
            total_results += len(results)
            
            print(f"\nAnalyzing {len(results)} results from: {query_text[:60]}...")
            
            for result in results:
                result_title = result.get('title', '').lower()
                result_body = result.get('body', '').lower()
                result_url = result.get('href', '')
                
                # Look for organizations
                for org in org_keywords:
                    if org in result_title or org in result_body:
                        organizations_found.add(org.upper())
                
                # Look for key findings related to environmental education plan
                if any(term in result_title or term in result_body for term in ['plano', 'educa√ß√£o ambiental', 'bacia', 's√£o francisco', '505']):
                    key_findings.append({
                        'title': result.get('title', ''),
                        'url': result_url,
                        'snippet': result.get('body', '')[:400],
                        'query': query_text,
                        'relevance_score': sum(1 for term in ['plano', 'educa√ß√£o ambiental', 'bacia', 's√£o francisco', '505'] if term in result_title or term in result_body)
                    })
                
                # Look for Sobradinho Dam references
                if 'sobradinho' in result_title or 'sobradinho' in result_body:
                    sobradinho_references.append({
                        'title': result.get('title', ''),
                        'url': result_url,
                        'snippet': result.get('body', '')[:400],
                        'query': query_text
                    })
                
                # Look for Ministry collaboration
                if ('minist√©rio' in result_title or 'minist√©rio' in result_body) and ('p√∫blico' in result_title or 'p√∫blico' in result_body):
                    ministry_collaborations.append({
                        'title': result.get('title', ''),
                        'url': result_url,
                        'snippet': result.get('body', '')[:400],
                        'query': query_text
                    })
    
    print(f"\nüìä ANALYSIS SUMMARY:")
    print(f"   ‚Ä¢ Total results analyzed: {total_results}")
    print(f"   ‚Ä¢ Organizations identified: {len(organizations_found)}")
    print(f"   ‚Ä¢ Key findings: {len(key_findings)}")
    print(f"   ‚Ä¢ Sobradinho references: {len(sobradinho_references)}")
    print(f"   ‚Ä¢ Ministry collaborations: {len(ministry_collaborations)}")
    
    print(f"\nüè¢ ORGANIZATIONS IDENTIFIED:")
    for org in sorted(organizations_found):
        print(f"   ‚Ä¢ {org}")
    
    print(f"\nüìã TOP KEY FINDINGS (sorted by relevance):")
    # Sort key findings by relevance score
    key_findings.sort(key=lambda x: x.get('relevance_score', 0), reverse=True)
    
    for i, finding in enumerate(key_findings[:8], 1):
        print(f"\n{i}. {finding['title']}")
        print(f"   URL: {finding['url']}")
        print(f"   Relevance: {finding.get('relevance_score', 0)}/5")
        print(f"   Snippet: {finding['snippet'][:250]}...")
        print(f"   From query: {finding['query'][:50]}...")
    
    print(f"\nüèóÔ∏è SOBRADINHO DAM REFERENCES:")
    for i, ref in enumerate(sobradinho_references[:5], 1):
        print(f"\n{i}. {ref['title']}")
        print(f"   URL: {ref['url']}")
        print(f"   Snippet: {ref['snippet'][:250]}...")
    
    print(f"\nü§ù MINISTRY COLLABORATIONS:")
    for i, collab in enumerate(ministry_collaborations[:5], 1):
        print(f"\n{i}. {collab['title']}")
        print(f"   URL: {collab['url']}")
        print(f"   Snippet: {collab['snippet'][:250]}...")
    
    # Save comprehensive analysis
    analysis_results = {
        'analysis_date': '2024-12-19',
        'total_results_analyzed': total_results,
        'organizations_identified': list(organizations_found),
        'key_findings': key_findings[:15],  # Top 15 findings
        'sobradinho_references': sobradinho_references,
        'ministry_collaborations': ministry_collaborations,
        'search_queries_analyzed': len(search_data)
    }
    
    analysis_file = "workspace/sao_francisco_comprehensive_analysis.json"
    with open(analysis_file, 'w', encoding='utf-8') as f:
        json.dump(analysis_results, f, indent=2, ensure_ascii=False)
    print(f"\nComprehensive analysis saved to {analysis_file}")
    
    print(f"\n{'='*80}")
    print("PRELIMINARY CONCLUSIONS")
    print(f"{'='*80}")
    
    # Identify the most likely organization based on findings
    if 'CBHSF' in organizations_found or any('cbhsf' in finding['title'].lower() or 'comit√™' in finding['title'].lower() for finding in key_findings):
        print(f"\nüéØ PRIMARY ORGANIZATION CANDIDATE: CBHSF (Comit√™ da Bacia Hidrogr√°fica do Rio S√£o Francisco)")
        print(f"   ‚Ä¢ Evidence: Multiple references to basin committee and environmental education")
        print(f"   ‚Ä¢ Role: Likely responsible for coordinating the 505 municipalities plan")
    
    if 'CHESF' in organizations_found:
        print(f"\nüéØ SECONDARY ORGANIZATION: CHESF (Companhia Hidro El√©trica do S√£o Francisco)")
        print(f"   ‚Ä¢ Evidence: Environmental programs and S√£o Francisco basin involvement")
        print(f"   ‚Ä¢ Role: Likely involved in environmental education due to dam operations")
    
    if sobradinho_references:
        print(f"\nüéØ SOBRADINHO DAM ADVOCACY LEADS:")
        for ref in sobradinho_references[:3]:
            if 'advocacia' in ref['snippet'].lower() or 'advogado' in ref['snippet'].lower():
                print(f"   ‚Ä¢ Legal advocacy reference found in: {ref['title']}")
                print(f"   ‚Ä¢ URL: {ref['url']}")
    
    print(f"\n‚úÖ ANALYSIS COMPLETED SUCCESSFULLY!")
    print(f"\nüéØ NEXT STEPS:")
    print(f"   ‚Ä¢ Focus on CBHSF as primary organization candidate")
    print(f"   ‚Ä¢ Search for specific individuals within CBHSF involved in Sobradinho advocacy")
    print(f"   ‚Ä¢ Investigate the specific 505 municipalities plan details")
    
else:
    print(f"\n‚ùå No search results file found. Need to conduct the web search first.")
    print(f"\nSearched in directories: {possible_workspaces}")
```