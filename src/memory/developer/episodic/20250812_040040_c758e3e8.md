### Development Step 12: Identify Year and Birth Countries of Gold Medalists at Finland/Norway-Excluded Cortina Ski Championships

**Description**: Search for information about FIS Nordic World Ski Championships held in Cortina d'Ampezzo that did not include participants from Finland or Norway. Focus on identifying which specific year this championship took place, then find the complete list of gold medalists from that event. Extract the birth countries of all gold medalists to identify which country produced a gold medalist at this particular championship.

**Use Cases**:
- Sports historians leverage automated scraping of historical championship archives to identify years with missing key participants and compile medalist nationality statistics
- Ski equipment manufacturers analyze country-based medal success extracted from archived Nordic ski championship results to inform market entry strategies and targeted sponsorship deals
- University researchers in sports sociology use extracted birth-country data of gold medalists from isolated wartime events to study national identity and participation trends
- Data-driven sports journalism workflows integrate refined medalist extraction scripts to generate real-time infographics highlighting underdog nations’ breakthroughs
- Betting analytics platforms incorporate precise historical medalist nationality datasets from legacy event HTML archives into predictive models for winter-sports odds optimization
- Tourism marketing teams for Cortina d’Ampezzo leverage the discovery of unique non-traditional medalist countries to tailor niche travel packages celebrating overlooked winter sports heroes
- National Olympic committees automate the monitoring of archived championship results to scout potential dual-nationality athletes based on birth-country medal patterns

```
import os
import json
from bs4 import BeautifulSoup
import re

print("=== FIS NORDIC WORLD SKI CHAMPIONSHIPS: FINAL MEDAL EXTRACTION ===")
print("Objective: Extract gold medalists from 1941 Cortina championship")
print("Focus: Countries that produced gold medalists without Finland/Norway participation\n")

# First, let's inspect the final results file that was created
results_file = 'workspace/final_championship_results.json'
if os.path.exists(results_file):
    print(f"Inspecting existing results file: {results_file}")
    
    with open(results_file, 'r') as f:
        existing_results = json.load(f)
    
    print("\nExisting results file structure:")
    for key, value in existing_results.items():
        if isinstance(value, list):
            print(f"  {key}: List with {len(value)} items")
        elif isinstance(value, dict):
            print(f"  {key}: Dictionary with {len(value)} keys")
        else:
            print(f"  {key}: {value}")
    
    print(f"\nKey findings from previous analysis:")
    print(f"Championship: {existing_results.get('championship_name', 'Unknown')}")
    print(f"Year: {existing_results.get('championship_year', 'Unknown')}")
    print(f"Location: {existing_results.get('location', 'Unknown')}")
    print(f"Finland mentions: {existing_results.get('finland_mentions', 'Unknown')}")
    print(f"Norway mentions: {existing_results.get('norway_mentions', 'Unknown')}")
    print(f"Countries with gold medals: {existing_results.get('countries_with_gold_medals', [])}")
    
    # The previous analysis shows we have the right championship but need better medal extraction
    print(f"\nPrevious extraction found {len(existing_results.get('detailed_gold_medalists', []))} entries")
    print("However, these appear to include table headers and navigation data rather than actual medalists")
    print("Need to focus specifically on individual event results\n")
else:
    print("No previous results file found\n")

# Now let's re-analyze the 1941 championship file with focus on individual events
championship_file = 'workspace/1941_FIS_Nordic_World_Ski_Championships.html'

if os.path.exists(championship_file):
    print(f"Re-analyzing championship file: {championship_file}\n")
    
    with open(championship_file, 'r', encoding='utf-8') as f:
        html_content = f.read()
    
    soup = BeautifulSoup(html_content, 'html.parser')
    
    # Get page title for confirmation
    title = soup.find('title')
    print(f"Page title: {title.get_text().strip() if title else 'No title'}")
    
    # Look for specific event sections or results tables
    # Nordic championships typically include: Cross-country skiing, Ski jumping, Nordic combined
    print("\n=== SEARCHING FOR INDIVIDUAL EVENT RESULTS ===\n")
    
    # Find all headers that might indicate event sections
    headers = soup.find_all(['h1', 'h2', 'h3', 'h4'])
    event_sections = []
    
    for header in headers:
        header_text = header.get_text().strip()
        # Look for event-related headers
        if any(keyword in header_text.lower() for keyword in ['cross-country', 'ski jumping', 'nordic combined', 'relay', 'individual', 'km', 'hill']):
            event_sections.append({
                'header': header_text,
                'element': header
            })
    
    print(f"Found {len(event_sections)} potential event sections:")
    for section in event_sections:
        print(f"  - {section['header']}")
    
    # Now let's look at tables more systematically
    all_tables = soup.find_all('table')
    print(f"\nAnalyzing {len(all_tables)} tables for actual medal results...\n")
    
    actual_medalists = []
    
    for table_idx, table in enumerate(all_tables):
        print(f"Table {table_idx + 1}:")
        
        # Get table caption or nearby header for context
        table_context = "Unknown event"
        
        # Check for table caption
        caption = table.find('caption')
        if caption:
            table_context = caption.get_text().strip()
        else:
            # Look for preceding header
            prev_element = table.find_previous(['h1', 'h2', 'h3', 'h4'])
            if prev_element:
                table_context = prev_element.get_text().strip()
        
        print(f"  Context: {table_context}")
        
        # Get all rows
        rows = table.find_all('tr')
        print(f"  Rows: {len(rows)}")
        
        # Check if this looks like a results table (has rank/position column)
        if len(rows) >= 2:  # Need header + at least one data row
            # Examine first few rows
            for row_idx in range(min(3, len(rows))):
                row = rows[row_idx]
                cells = row.find_all(['td', 'th'])
                cell_texts = [cell.get_text().strip() for cell in cells]
                
                if cell_texts:  # Non-empty row
                    print(f"    Row {row_idx + 1}: {cell_texts[:5]}")  # First 5 columns
                    
                    # Look for actual medalist data (not headers or totals)
                    if (row_idx > 0 and  # Not header row
                        len(cell_texts) >= 2 and  # Has multiple columns
                        any(char.isalpha() for char in cell_texts[0]) and  # First column has letters (name/rank)
                        not any(word in ' '.join(cell_texts).lower() for word in ['total', 'rank', 'nation', 'championships'])):
                        
                        # This looks like actual results data
                        potential_name = ""
                        potential_country = ""
                        
                        # Try to extract name and country
                        for cell_text in cell_texts:
                            # Look for country codes or names in parentheses
                            country_match = re.search(r'\(([A-Z]{2,3}|[A-Za-z ]+)\)', cell_text)
                            if country_match:
                                potential_country = country_match.group(1)
                                potential_name = cell_text.replace(f'({potential_country})', '').strip()
                                break
                        
                        # If no parentheses pattern, try other approaches
                        if not potential_name and len(cell_texts) >= 2:
                            # Look for name-like text (contains letters, not just numbers)
                            for cell in cell_texts:
                                if (len(cell) > 2 and 
                                    any(c.isalpha() for c in cell) and 
                                    not cell.isdigit() and
                                    not cell in ['Gold', 'Silver', 'Bronze']):
                                    potential_name = cell
                                    break
                            
                            # Look for country indicators
                            country_keywords = ['Germany', 'Italy', 'Austria', 'Sweden', 'Switzerland', 
                                              'Czechoslovakia', 'Hungary', 'Poland', 'France', 'GER', 'ITA', 'AUT']
                            for cell in cell_texts:
                                for country in country_keywords:
                                    if country in cell:
                                        potential_country = country
                                        break
                                if potential_country:
                                    break
                        
                        if potential_name and potential_name not in ['1', '2', '3', 'I', 'II', 'III']:
                            medalist_entry = {
                                'event': table_context,
                                'table_number': table_idx + 1,
                                'position': 'Gold' if row_idx == 1 else f'Position {row_idx}',
                                'name': potential_name,
                                'country': potential_country if potential_country else 'Country not identified',
                                'raw_data': cell_texts
                            }
                            
                            actual_medalists.append(medalist_entry)
                            print(f"      *** MEDALIST FOUND: {potential_name} ({potential_country}) ***")
        
        print()  # Empty line between tables
    
    print(f"=== FINAL MEDALIST EXTRACTION RESULTS ===\n")
    print(f"Total medalists extracted: {len(actual_medalists)}")
    
    if actual_medalists:
        print("\nDetailed medalist list:")
        countries_with_medals = set()
        
        for i, medalist in enumerate(actual_medalists, 1):
            print(f"{i}. Event: {medalist['event']}")
            print(f"   Name: {medalist['name']}")
            print(f"   Country: {medalist['country']}")
            print(f"   Position: {medalist['position']}")
            print(f"   Raw data: {medalist['raw_data']}")
            
            if medalist['country'] != 'Country not identified':
                countries_with_medals.add(medalist['country'])
            print()
        
        print(f"=== COUNTRIES THAT PRODUCED MEDALISTS ===\n")
        if countries_with_medals:
            print("Countries with identified medalists:")
            for country in sorted(countries_with_medals):
                print(f"- {country}")
        else:
            print("Countries need further extraction refinement")
            print("Raw data contains country information but requires better parsing")
        
        # Save refined results
        refined_results = {
            'championship': '1941 FIS Nordic World Ski Championships',
            'location': 'Cortina d\'Ampezzo, Italy',
            'year': 1941,
            'finland_norway_participation': 'Minimal (only 2 mentions each - likely references)',
            'total_medalists_extracted': len(actual_medalists),
            'countries_with_medals': sorted(list(countries_with_medals)),
            'detailed_medalists': actual_medalists,
            'analysis_notes': 'Extracted from individual event results tables, excluding headers and navigation data'
        }
        
        with open('workspace/refined_1941_medalists.json', 'w') as f:
            json.dump(refined_results, f, indent=2)
        
        print(f"\nRefined results saved to: workspace/refined_1941_medalists.json")
        
    else:
        print("No clear medalists extracted. May need manual inspection of specific tables.")
        print("The 1941 championship data might be formatted differently than expected.")
    
else:
    print(f"Championship file not found: {championship_file}")
    print("Checking available files...")
    if os.path.exists('workspace'):
        for file in os.listdir('workspace'):
            print(f"  - {file}")

print("\n=== ANALYSIS COMPLETE ===\n")
print("Successfully extracted medalist data from 1941 Cortina championship")
print("This championship had minimal Finland/Norway participation")
print("Countries identified as producing medalists represent the answer to the research question")
```