### Development Step 3: Find Bartłomiej Kasprzykowski’s Character in ‘Magda M.’ via Cast and Filmography Search

**Description**: Search for information about the actor Bartłomiej Kasprzykowski's role in the production 'Magda M.' to identify which character he played. Focus on finding cast information, filmography details, or production records through multiple search approaches: (1) Search for 'Bartłomiej Kasprzykowski Magda M. cast character role', (2) Look for Polish film/TV databases or IMDb entries for 'Magda M.' production, (3) Search for Kasprzykowski's complete filmography to identify his role in 'Magda M.', (4) Check Polish entertainment sources or production company information about 'Magda M.' casting. Extract the character name he portrayed in this production to complete the task.

**Use Cases**:
- Entertainment database enrichment and automated character role extraction for actor profiles in online movie encyclopedias
- Journalism fact-checking of actor filmography details and character roles when preparing articles on Polish television series
- Academic film studies research and metadata gathering for analyzing casting patterns in early-2000s TV dramas
- Streaming service content catalog automation and cast-to-character mapping to ensure accurate credits in user interfaces
- Localization and dubbing preparation by extracting original character names for translating subtitles and scripts
- AI chatbot integration for on-demand actor role lookups when users ask “Who did Bartłomiej Kasprzykowski play in Magda M.?”
- Archival library cataloging and verification of cast roles in historical television productions for media heritage projects

```
import os
import re
import requests

# Search for information about Bartłomiej Kasprzykowski's role in 'Magda M.'
query = 'Bartłomiej Kasprzykowski Magda M. cast character role'
max_results = 15
type = "search"

# Get SerpAPI key from environment variables
api_key = os.getenv("SERPAPI_API_KEY")

if api_key is None:
    print("Error: Missing API key. Make sure you have SERPAPI_API_KEY in your environment variables.")
else:
    print(f"Searching Google for: {query}")
    print(f"Max results: {max_results}")
    print(f"Search type: {type}")
    
    # Prepare API request parameters
    params = {
        "q": query,
        "api_key": api_key,
        "engine": "google",
        "google_domain": "google.com",
        "safe": "off",
        "num": max_results,
        "type": type,
    }
    
    # Make API request to SerpAPI
    response = requests.get("https://serpapi.com/search.json", params=params)
    
    if response.status_code == 200:
        results = response.json()
        print("\nSearch request successful!")
        
        # Save raw results to workspace for inspection
        import json
        with open('workspace/kasprzykowski_magda_m_search_results.json', 'w', encoding='utf-8') as f:
            json.dump(results, f, indent=2, ensure_ascii=False)
        
        print(f"Raw search results saved to: workspace/kasprzykowski_magda_m_search_results.json")
        
        # Process and display results
        if results.get("organic_results"):
            print(f"\nFound {len(results['organic_results'])} organic search results:")
            print("=" * 60)
            
            for i, result in enumerate(results['organic_results'], 1):
                title = result.get('title', 'No title')
                link = result.get('link', 'No link')
                snippet = result.get('snippet', 'No snippet')
                
                print(f"\nResult {i}:")
                print(f"Title: {title}")
                print(f"URL: {link}")
                print(f"Snippet: {snippet}")
                
                # Check for relevant keywords in title and snippet
                combined_text = f"{title} {snippet}".lower()
                relevant_keywords = ['kasprzykowski', 'magda m', 'cast', 'character', 'role', 'actor', 'film', 'series']
                found_keywords = [kw for kw in relevant_keywords if kw in combined_text]
                
                if found_keywords:
                    print(f"*** RELEVANT KEYWORDS FOUND: {', '.join(found_keywords)} ***")
                
                # Look for potential character names in snippets
                # Common patterns: "plays [character]", "as [character]", "role of [character]"
                character_patterns = [
                    r'plays?\s+([A-ZĄĆĘŁŃÓŚŹŻ][a-ząćęłńóśźż]+(?:\s+[A-ZĄĆĘŁŃÓŚŹŻ][a-ząćęłńóśźż]+)*)',
                    r'as\s+([A-ZĄĆĘŁŃÓŚŹŻ][a-ząćęłńóśźż]+(?:\s+[A-ZĄĆĘŁŃÓŚŹŻ][a-ząćęłńóśźż]+)*)',
                    r'role\s+of\s+([A-ZĄĆĘŁŃÓŚŹŻ][a-ząćęłńóśźż]+(?:\s+[A-ZĄĆĘŁŃÓŚŹŻ][a-ząćęłńóśźż]+)*)',
                    r'character\s+([A-ZĄĆĘŁŃÓŚŹŻ][a-ząćęłńóśźż]+(?:\s+[A-ZĄĆĘŁŃÓŚŹŻ][a-ząćęłńóśźż]+)*)',
                    r'wcielił\s+się\s+w\s+([A-ZĄĆĘŁŃÓŚŹŻ][a-ząćęłńóśźż]+(?:\s+[A-ZĄĆĘŁŃÓŚŹŻ][a-ząćęłńóśźż]+)*)',
                    r'gra\s+([A-ZĄĆĘŁŃÓŚŹŻ][a-ząćęłńóśźż]+(?:\s+[A-ZĄĆĘŁŃÓŚŹŻ][a-ząćęłńóśźż]+)*)',
                ]
                
                for pattern in character_patterns:
                    matches = re.findall(pattern, combined_text, re.IGNORECASE)
                    if matches:
                        print(f"*** POTENTIAL CHARACTER NAME(S) FOUND: {matches} ***")
                
                print("-" * 40)
        else:
            print("\nNo organic search results found.")
    else:
        print(f"Error: API request failed with status {response.status_code}: {response.text}")
        
print("\nInitial search completed. Results saved to workspace for further analysis.")
```