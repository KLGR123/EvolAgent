### Development Step 2: Comprehensive List of U.S. Homeland Security Secretaries Before April 2019, Excluding Acting Appointees

**Description**: Search for a comprehensive list of all United States secretaries of homeland security who served prior to April 2019, excluding those who served in an acting capacity only. Use reliable government sources or authoritative websites for this information.

**Use Cases**:
- Academic research on leadership and policy shifts: a political science professor compiles the list of DHS secretaries before April 2019 to correlate tenure periods with changes in homeland security funding and counterterrorism initiatives.
- Civic‐tech timeline widget for public engagement: a non-profit builds an interactive web timeline showing successive DHS secretaries so citizens can explore leadership history and associated policy milestones.
- Data journalism interactive feature: reporters embed a dynamic chart in a news article that highlights when each DHS secretary served and overlays major security events for reader insight.
- Legal compliance and FOIA case support: a law firm automates verification of who held the Secretary position on specific dates to validate requests and prepare briefs in litigation involving DHS actions.
- Government transparency portal integration: a city open-data team imports the JSON of past DHS secretaries into their federal leadership dashboard, ensuring up-to-date reference material for civic monitoring.
- Security contracting risk assessment: a defense consultancy aligns contractor performance records with the exact tenure of DHS secretaries to evaluate how leadership changes influenced procurement priorities.
- Digital archive metadata enrichment: an archives department tags homeland security documents by the serving secretary’s term dates, improving searchability and contextual organization in their digital repository.
- Educational quiz app data source: an ed-tech developer uses the structured JSON list of DHS secretaries to power quiz questions and flashcards in a mobile app teaching students U.S. cabinet history.

```
import requests
import re
import os
from bs4 import BeautifulSoup
import json

print("Searching for U.S. Secretaries of Homeland Security prior to April 2019...")

# Create workspace directory if it doesn't exist
if not os.path.exists('workspace'):
    os.makedirs('workspace')

# Function to get HTML content from a URL with proper headers
def get_page_content(url):
    headers = {
        'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36'
    }
    
    try:
        response = requests.get(url, headers=headers)
        response.raise_for_status()
        return response.text
    except Exception as e:
        print(f"Error fetching {url}: {str(e)}")
        return None

# Function to clean up text (remove extra spaces, newlines, etc.)
def clean_text(text):
    if text is None:
        return ""
    # Remove extra whitespace
    cleaned = re.sub(r'\s+', ' ', text)
    # Remove citations/references [1], [2], etc.
    cleaned = re.sub(r'\[\d+\]', '', cleaned)
    # Remove leading/trailing whitespace
    cleaned = cleaned.strip()
    return cleaned

# Function to parse Wikipedia for the list of secretaries
def parse_wikipedia():
    print("\nTrying to fetch information from Wikipedia...")
    url = "https://en.wikipedia.org/wiki/United_States_Secretary_of_Homeland_Security"
    content = get_page_content(url)
    
    if not content:
        print("Could not access Wikipedia. Trying alternative sources.")
        return None
    
    soup = BeautifulSoup(content, 'html.parser')
    print("Successfully fetched Wikipedia content.")
    
    # Try to find the table with the list of secretaries
    tables = soup.find_all('table', class_='wikitable')
    
    secretaries = []
    found_table = False
    
    for table in tables:
        # Check if this looks like the right table
        headers = table.find_all('th')
        header_texts = [h.get_text().strip() for h in headers]
        
        # Print table headers for debugging
        print(f"Found table with headers: {header_texts}")
        
        # Look for table with Secretary info
        if any('Secretary' in h for h in header_texts) and any('Term' in h for h in header_texts):
            found_table = True
            print("Found the table with Secretaries of Homeland Security.")
            
            rows = table.find_all('tr')
            # Skip the header row
            for row in rows[1:]:
                cells = row.find_all(['td', 'th'])
                
                if len(cells) >= 4:  # Assuming we have name, term start, term end, and president columns
                    # Extract name
                    name_cell = cells[0]
                    name = clean_text(name_cell.get_text())
                    
                    # Check if "acting" is in the name or title
                    is_acting = 'acting' in name.lower()
                    
                    # Skip this entry if it's an acting secretary
                    if is_acting:
                        print(f"Skipping acting secretary: {name}")
                        continue
                    
                    # Extract term dates
                    term_start = clean_text(cells[1].get_text())
                    term_end = clean_text(cells[2].get_text())
                    
                    # Extract president
                    president = clean_text(cells[3].get_text()) if len(cells) > 3 else ""
                    
                    # Convert term dates to a standard format if possible
                    term_start_clean = clean_text(term_start)
                    term_end_clean = clean_text(term_end)
                    
                    secretary_info = {
                        "name": name,
                        "term_start": term_start_clean,
                        "term_end": term_end_clean,
                        "president": president
                    }
                    
                    secretaries.append(secretary_info)
                    print(f"Added secretary: {name}, Served: {term_start_clean} to {term_end_clean}")
    
    if not found_table:
        print("Could not find the table with Secretaries of Homeland Security on Wikipedia.")
        return None
    
    return secretaries

# Function to determine if a secretary served before April 2019
def served_before_april_2019(term_end):
    # Simple case: if end date is explicitly before 2019
    if any(year in term_end for year in ['2003', '2004', '2005', '2006', '2007', '2008', 
                                         '2009', '2010', '2011', '2012', '2013', '2014', 
                                         '2015', '2016', '2017', '2018']):
        return True
        
    # Check for April 2019 case
    if '2019' in term_end:
        # Extract month if possible
        months = ['January', 'February', 'March', 'April', 'May', 'June',
                  'July', 'August', 'September', 'October', 'November', 'December']
                  
        # Check if month is explicitly mentioned
        for i, month in enumerate(months):
            if month in term_end:
                # If month is April or earlier, check the day
                if month == 'April':
                    # Try to extract day
                    day_match = re.search(r'April\s+(\d+)', term_end)
                    if day_match:
                        day = int(day_match.group(1))
                        return day < 30  # Return True if before end of April
                    return False  # Can't determine day, assume it's after April
                # If month is before April, they served before April 2019
                return i < 3  # January (0), February (1), March (2) are before April (3)
        
        # Month not explicitly mentioned, can't determine
        return False
    
    # Special case: still in office (incumbent/present)
    # For these, we need to check the current date
    if any(term in term_end.lower() for term in ['incumbent', 'present']):
        # If they're still serving and started before April 2019, count them
        # We'd need to check their start date, but this is simplified
        return False
    
    # Default case: can't determine, assume they didn't serve before April 2019
    return False

# Function to parse DHS website (fallback option)
def parse_dhs_website():
    print("\nTrying to fetch information from the official DHS website...")
    url = "https://www.dhs.gov/homeland-security-leadership/secretary"
    content = get_page_content(url)
    
    if not content:
        print("Could not access DHS website. Trying alternative sources.")
        return None
    
    print("Successfully fetched DHS website content, but historical data may be limited.")
    print("Trying Wikipedia as the primary source instead.")
    return None

# Main function to coordinate the search and filtering
def find_secretaries_before_april_2019():
    # Try parsing Wikipedia first
    secretaries = parse_wikipedia()
    
    # If Wikipedia parsing fails, try the DHS website (unlikely to have full historical data)
    if not secretaries:
        dhs_data = parse_dhs_website()
        if dhs_data:
            secretaries = dhs_data
    
    # If both online sources fail, use hardcoded data as fallback
    if not secretaries:
        print("\nCould not retrieve the list of secretaries from online sources.")
        print("Using a hardcoded list based on research as fallback.")
        
        # Hardcoded list based on research
        secretaries = [
            {"name": "Tom Ridge", "term_start": "January 24, 2003", "term_end": "February 1, 2005", "president": "George W. Bush"},
            {"name": "Michael Chertoff", "term_start": "February 15, 2005", "term_end": "January 21, 2009", "president": "George W. Bush"},
            {"name": "Janet Napolitano", "term_start": "January 21, 2009", "term_end": "September 6, 2013", "president": "Barack Obama"},
            {"name": "Jeh Johnson", "term_start": "December 23, 2013", "term_end": "January 20, 2017", "president": "Barack Obama"},
            {"name": "John F. Kelly", "term_start": "January 20, 2017", "term_end": "July 31, 2017", "president": "Donald Trump"},
            {"name": "Kirstjen Nielsen", "term_start": "December 6, 2017", "term_end": "April 10, 2019", "president": "Donald Trump"}
        ]
    
    # Filter to secretaries who served before April 2019 and were not acting
    filtered_secretaries = []
    for secretary in secretaries:
        # For hardcoded data, we already know these meet our criteria
        if "term_end" in secretary and served_before_april_2019(secretary["term_end"]):
            filtered_secretaries.append(secretary)
    
    # Sort by term start date (simple chronological order)
    # This is a basic sort that may not handle all date formats correctly
    filtered_secretaries.sort(key=lambda x: x.get("term_start", ""))
    
    # Save to file
    output_file = "workspace/us_secretaries_homeland_security_before_april_2019.json"
    with open(output_file, 'w') as f:
        json.dump(filtered_secretaries, f, indent=2)
    
    print(f"\nSaved the list of {len(filtered_secretaries)} U.S. Secretaries of Homeland Security")
    print(f"who served before April 2019 (excluding acting) to {output_file}")
    
    # Print the results
    print("\nU.S. Secretaries of Homeland Security who served before April 2019 (excluding acting):")
    for i, secretary in enumerate(filtered_secretaries, 1):
        print(f"{i}. {secretary['name']} ({secretary['term_start']} - {secretary['term_end']})")
        print(f"   Served under President: {secretary['president']}")
    
    return filtered_secretaries

# Execute the main function
find_secretaries_before_april_2019()
```