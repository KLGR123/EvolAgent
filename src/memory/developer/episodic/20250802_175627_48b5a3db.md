### Development Step 3: Find and Transcribe Teal’c’s Response to “Isn’t That Hot?” in YouTube Video

**Description**: Access and analyze the YouTube video at https://www.youtube.com/watch?v=1htKBjuUWec to locate the specific dialogue where someone asks 'Isn't that hot?' and identify Teal'c's exact response. Extract the audio/video content, transcribe the relevant dialogue section, and document Teal'c's reply to this question.

**Use Cases**:
- Fan-driven Stargate quote archive: automatically download key scenes from YouTube, extract Teal’c’s “Isn’t that hot?” response, transcribe the dialogue and timestamp for inclusion in a community-maintained quote database
- Linguistic analysis of fictional dialects: pull audio clips of Teal’c’s speech from YouTube, transcribe targeted question-and-answer exchanges, and analyze phonetic patterns for a research paper on constructed languages
- Streaming subtitle generation and localization: isolate the “Isn’t that hot?” segment, produce a precise transcript of Teal’c’s reply, and feed it into a translation workflow to create accurate subtitles in multiple languages
- AI chatbot persona training for Sci-Fi characters: collect authentic Teal’c responses by downloading and transcribing specific lines, then integrate them into a chatbot to emulate his speech style in interactive fan applications
- Compliance audit for clip licensing: extract and document exact dialogue segments from YouTube videos, log Teal’c’s reply verbatim, and attach metadata for legal review when securing broadcast rights
- Podcast episode highlight reel: automate the download, audio extraction, and transcription of fan-favorite Teal’c lines like his response to “Isn’t that hot?”, then assemble them into a curated nostalgia segment
- Quality assurance for automatic captioning services: use the known “Isn’t that hot?” exchange to verify the accuracy of speech-to-text algorithms by comparing the system’s output to the manually extracted transcript
- Educational media analysis in film studies: retrieve and transcribe Teal’c’s concise responses from selected YouTube scenes, enabling film students to examine character development through repeated dialogue patterns

```
import os
import yt_dlp
import json
from urllib.parse import urlparse, parse_qs

# The issue is clear: the video was downloaded to a different workspace directory
# Let's re-download the video to the current workspace and then extract audio

url = "https://www.youtube.com/watch?v=1htKBjuUWec"
video_id = "1htKBjuUWec"

print("=== RE-DOWNLOADING TEAL'C VIDEO TO CURRENT WORKSPACE ===")
print(f"Target URL: {url}")
print(f"Video ID: {video_id}")
print("Objective: Download video, extract audio, and find Teal'c's response to 'Isn't that hot?'\n")

# Ensure current workspace directory exists
os.makedirs("workspace", exist_ok=True)
print(f"Workspace directory confirmed: {os.path.abspath('workspace')}")

# Set up download options to get the video in current workspace
output_template = os.path.join("workspace", f"{video_id}_%(title)s.%(ext)s")
print(f"Output template: {output_template}\n")

ydl_opts = {
    'format': 'best[height<=720]',  # Download reasonable quality video
    'outtmpl': output_template,
    'quiet': False,  # Show download progress
    'no_warnings': False,
}

try:
    with yt_dlp.YoutubeDL(ydl_opts) as ydl:
        # Extract info first
        print("=== EXTRACTING VIDEO INFORMATION ===")
        info = ydl.extract_info(url, download=False)
        
        print(f"Video Title: {info.get('title', 'N/A')}")
        print(f"Duration: {info.get('duration', 'N/A')} seconds")
        print(f"Uploader: {info.get('uploader', 'N/A')}")
        
        # Confirm this is the Teal'c coffee video
        title = info.get('title', '').lower()
        if 'teal' in title and 'coffee' in title:
            print("*** CONFIRMED: This is the Teal'c coffee video ***\n")
        else:
            print(f"*** WARNING: Title doesn't clearly indicate Teal'c coffee content ***\n")
        
        # Now download the video
        print("=== DOWNLOADING VIDEO ===")
        ydl.download([url])
        print("\nVideo download completed!\n")
        
        # Check what files were actually created
        print("=== CHECKING DOWNLOADED FILES ===")
        workspace_files = []
        for file in os.listdir("workspace"):
            full_path = os.path.join("workspace", file)
            if os.path.isfile(full_path):
                file_size = os.path.getsize(full_path)
                workspace_files.append((file, full_path, file_size))
        
        print(f"Files in workspace after download:")
        video_file = None
        for filename, full_path, size in workspace_files:
            size_mb = size / (1024 * 1024)
            print(f"  - {filename} ({size_mb:.2f} MB)")
            
            # Identify the video file
            if any(filename.lower().endswith(ext) for ext in ['.mp4', '.mkv', '.webm', '.avi']):
                video_file = full_path
                print(f"    *** IDENTIFIED AS VIDEO FILE ***")
        
        if video_file:
            print(f"\n=== VIDEO FILE LOCATED ===")
            print(f"Video file path: {video_file}")
            print(f"File size: {os.path.getsize(video_file) / (1024 * 1024):.2f} MB")
            
            # Save video info for reference
            video_info = {
                'url': url,
                'video_id': video_id,
                'title': info.get('title', 'N/A'),
                'duration_seconds': info.get('duration', 0),
                'uploader': info.get('uploader', 'N/A'),
                'video_file_path': video_file,
                'file_size_mb': os.path.getsize(video_file) / (1024 * 1024),
                'objective': "Find Teal'c's response to 'Isn't that hot?'"
            }
            
            with open('workspace/tealc_video_info.json', 'w', encoding='utf-8') as f:
                json.dump(video_info, f, indent=2)
            
            print(f"Video info saved to: workspace/tealc_video_info.json")
            
            print(f"\n=== READY FOR AUDIO EXTRACTION ===")
            print("Video successfully downloaded and located.")
            print("Next step: Extract audio from video for dialogue transcription.")
            
        else:
            print(f"\n*** ERROR: No video file found after download ***")
            print("Available files:")
            for filename, full_path, size in workspace_files:
                print(f"  - {filename} ({size} bytes)")
            
except Exception as e:
    print(f"\n*** ERROR DURING VIDEO DOWNLOAD ***")
    print(f"Error: {str(e)}")
    import traceback
    print(f"Full error details: {traceback.format_exc()}")

print("\n*** VIDEO DOWNLOAD PHASE COMPLETE ***")
```