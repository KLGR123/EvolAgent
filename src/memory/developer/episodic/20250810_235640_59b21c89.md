### Development Step 3: Count Intermediate Stops Between South Station and Windsor Gardens on MBTA Franklin-Foxboro Line Using API Data

**Description**: Count the intermediate stops between South Station and Windsor Gardens on the MBTA Franklin-Foxboro line using the comprehensive station data already retrieved. Extract the exact number of stops that fall between these two endpoints (not including South Station and Windsor Gardens themselves) from the processed MBTA API data in the workspace files.

**Use Cases**:
- MBTA commuter rail schedule optimization for transit planners assessing passenger flow between major endpoints
- Real estate market analysis for agents highlighting properties with direct access to intermediate stops on the Franklin-Foxboro line
- Automated travel itinerary generation for tour operators planning group excursions with stop-by-stop breakdowns
- Emergency response route planning for municipal agencies needing precise intermediate station locations for evacuation scenarios
- Accessibility audits for advocacy groups evaluating the number and distribution of stops with ADA-compliant facilities between South Station and Windsor Gardens
- Data-driven marketing campaigns for local businesses targeting commuters at specific intermediate stations
- Academic transportation studies analyzing ridership patterns and station usage between urban and suburban endpoints
- Mobile app development for commuters providing real-time alerts and notifications for intermediate stops along the MBTA Franklin-Foxboro line

```
import os
import json

# Find the workspace directory
workspace_files = [f for f in os.listdir('.') if f.startswith('workspace')]
if workspace_files:
    workspace_dir = workspace_files[0]
    print(f"Using workspace directory: {workspace_dir}")
else:
    workspace_dir = 'workspace'
    print(f"Using default workspace directory: {workspace_dir}")

print(f"\nFiles in {workspace_dir}:")
for file in os.listdir(workspace_dir):
    print(f"  - {file}")

# Load the comprehensive analysis file that contains the stops between South Station and Windsor Gardens
analysis_file = os.path.join(workspace_dir, 'franklin_foxboro_line_analysis.json')

if os.path.exists(analysis_file):
    print(f"\nLoading analysis from: {analysis_file}")
    
    with open(analysis_file, 'r') as f:
        analysis_data = json.load(f)
    
    print(f"\nAnalysis data structure:")
    print(f"Keys available: {list(analysis_data.keys())}")
    
    # Extract the stops between South Station and Windsor Gardens (inclusive)
    stops_between_inclusive = analysis_data.get('stops_between_inclusive', [])
    print(f"\nTotal stops between South Station and Windsor Gardens (inclusive): {len(stops_between_inclusive)}")
    
    print(f"\nAll stops in the inclusive range:")
    for i, stop in enumerate(stops_between_inclusive, 1):
        marker = ""
        if stop['name'] == 'South Station':
            marker = " ‚Üê START (South Station)"
        elif stop['name'] == 'Windsor Gardens':
            marker = " ‚Üê END (Windsor Gardens)"
        print(f"{i:2d}. {stop['name']}{marker}")
    
    # Now count the intermediate stops (excluding South Station and Windsor Gardens)
    intermediate_stops = []
    for stop in stops_between_inclusive:
        if stop['name'] not in ['South Station', 'Windsor Gardens']:
            intermediate_stops.append(stop)
    
    print(f"\n" + "="*60)
    print("INTERMEDIATE STOPS ANALYSIS")
    print("="*60)
    
    print(f"\nIntermediate stops (excluding South Station and Windsor Gardens):")
    for i, stop in enumerate(intermediate_stops, 1):
        print(f"{i:2d}. {stop['name']}")
    
    intermediate_count = len(intermediate_stops)
    print(f"\nüéØ ANSWER: There are {intermediate_count} intermediate stops between South Station and Windsor Gardens")
    print(f"    (not including South Station and Windsor Gardens themselves)")
    
    # Create a summary of the result
    result_summary = {
        'question': 'Count intermediate stops between South Station and Windsor Gardens on MBTA Franklin-Foxboro line',
        'data_source': 'Official MBTA API (May 2023)',
        'line_name': analysis_data.get('line_name', 'Franklin/Foxboro Line'),
        'total_stops_on_line': analysis_data.get('total_stops_on_line', 0),
        'south_station_position': analysis_data.get('south_station_position', 0),
        'windsor_gardens_position': analysis_data.get('windsor_gardens_position', 0),
        'stops_between_inclusive_count': len(stops_between_inclusive),
        'intermediate_stops_count': intermediate_count,
        'intermediate_stops_list': [stop['name'] for stop in intermediate_stops],
        'calculation': f'{len(stops_between_inclusive)} total stops between endpoints - 2 endpoints = {intermediate_count} intermediate stops'
    }
    
    # Save the final result
    result_file = os.path.join(workspace_dir, 'intermediate_stops_count.json')
    with open(result_file, 'w') as f:
        json.dump(result_summary, f, indent=2)
    print(f"\nFinal result saved to: {result_file}")
    
    # Create a simple text answer file
    answer_file = os.path.join(workspace_dir, 'final_answer.txt')
    with open(answer_file, 'w') as f:
        f.write(f"MBTA Franklin-Foxboro Line: Intermediate Stops Count\n")
        f.write(f"="*50 + "\n\n")
        f.write(f"Question: Count intermediate stops between South Station and Windsor Gardens\n")
        f.write(f"Data Source: Official MBTA API (May 2023)\n\n")
        f.write(f"ANSWER: {intermediate_count} intermediate stops\n\n")
        f.write(f"Calculation:\n")
        f.write(f"- Total stops between endpoints (inclusive): {len(stops_between_inclusive)}\n")
        f.write(f"- Subtract endpoints (South Station + Windsor Gardens): 2\n")
        f.write(f"- Intermediate stops: {len(stops_between_inclusive)} - 2 = {intermediate_count}\n\n")
        f.write(f"Intermediate stops list:\n")
        for i, stop in enumerate(intermediate_stops, 1):
            f.write(f"{i:2d}. {stop['name']}\n")
    
    print(f"Simple answer saved to: {answer_file}")
    
else:
    print(f"\n‚ùå Analysis file not found: {analysis_file}")
    print("Available files in workspace:")
    for file in os.listdir(workspace_dir):
        print(f"  - {file}")

print(f"\n" + "="*60)
print("INTERMEDIATE STOPS COUNT COMPLETE")
print("="*60)
```